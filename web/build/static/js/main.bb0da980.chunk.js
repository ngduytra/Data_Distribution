(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{17:function(e,t,a){var n={ipfs_url:"https://ipfs.jumu.tk/",api_url:"http://localhost:6969/api",url:"http://localhost:6969",provider:a(144).getDefaultProvider("kovan"),tokenAddress:"0x7a62084Ea1B2B29F6Ae5749481202b54Bb38900D",tokenABI:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"TransferFromTo",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"UserBehaviorContract",type:"address"},{internalType:"address",name:"DidaSystem",type:"address"}],name:"setOnlyUserBehaviorContract",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]};window.$linkIPFS="https://ipfs.jumu.tk/",e.exports=n},209:function(e,t,a){},359:function(e,t,a){},371:function(e,t,a){e.exports=a.p+"static/media/torus-login.fa778c56.svg"},412:function(e,t,a){e.exports=a(753)},675:function(e,t){},683:function(e,t,a){},686:function(e,t,a){},687:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},720:function(e,t,a){},745:function(e,t,a){},746:function(e,t,a){},747:function(e,t,a){},748:function(e,t,a){},749:function(e,t,a){},750:function(e,t,a){},751:function(e,t,a){},752:function(e,t,a){},753:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),l=a.n(i),o=a(5),c=a(6),s=a(8),u=a(7),m=a(19),p=a(257),d=a(28),h=(a(32),a(209),a(806)),f=a(808),g=a(804),E=a(397),y=a(15),b=a(128),v=a(66),k=a(26),C=a.n(k),O=a(17),S=a.n(O),w=a(781),j=a(182),D=a(65),I=a(266),T=a(367),_=a.n(T),A=a(368),F=a(369),R=a(370),x=a.n(R),P=a(9),U={user:{},balanceETH:0,isSignin:!1,signinSuccessful:!1,isSignup:!1,signupSuccessful:!1,isUpdate:!1,updateSuccessful:!1,errorUpdate:null,error:null},N=a(396),L={receiverID:"",listFriend:[],listMessage:[],callingAPI:!1,titleName:"",isFindUser:!1,findUserSuccessful:!1,dataFindUser:[],error:null},M={musicSelected:{},rankingdata:null,isLoadingRankingData:!1,homeData:null,isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null,hotUserData:null,huntData:null,error:null},V={uploadData:[],loadingUpload:!1,downloadData:[],loadingDownload:!1,isoData:[],loadingIsoData:!1,userInfoData:null,loadingUserData:!1,errorPage:null,errorUpload:null},H={songInfo:null,songSameSingerData:null,relatedUserData:null,isLoading:!1,error:null},B=Object(D.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_START":return Object(P.a)(Object(P.a)({},e),{},{isUpdate:!0});case"UPDATE_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{isUpdate:!1,updateSuccessful:!0,user:Object(P.a)(Object(P.a)({},e.user),{},{userName:t.userName})});case"UPDATE_FAIL":return Object(P.a)(Object(P.a)({},e),{},{isUpdate:!1,errorUpdate:t.err});case"HANDLE_UPDATE_ERROR":return Object(P.a)(Object(P.a)({},e),{},{errorUpdate:null});case"RESET_UPDATE":return Object(P.a)(Object(P.a)({},e),{},{isUpdate:!1,updateSuccessful:!1,errorUpdate:null});case"SET_HAK_ADD":return Object(P.a)(Object(P.a)({},e),{},{user:Object(P.a)(Object(P.a)({},e.user),{},{HAK:Number(e.user.HAK)+t.hak})});case"SET_HAK_SUB":return Object(P.a)(Object(P.a)({},e),{},{user:Object(P.a)(Object(P.a)({},e.user),{},{HAK:e.user.HAK-t.hak})});case"SET_ETH":return Object(P.a)(Object(P.a)({},e),{},{balanceETH:t.eth});case"SET_USER_DATA":return Object(P.a)(Object(P.a)({},e),{},{user:t.user});case"SIGNIN_START":return Object(P.a)(Object(P.a)({},e),{},{isSignin:!0});case"SIGNIN_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{isSignin:!1,signinSuccessful:!0});case"SIGNIN_FAIL":return Object(P.a)(Object(P.a)({},e),{},{isSignin:!1,error:t.err});case"SIGNIN_FAIL_HANDLE":return Object(P.a)(Object(P.a)({},e),{},{error:null});case"CLEAR_STATE_REGISTER":return Object(P.a)(Object(P.a)({},e),{},{isSignup:!1,signupSuccessful:!1,error:null});case"SIGNUP_START":return Object(P.a)(Object(P.a)({},e),{},{isSignup:!0});case"SIGNUP_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{isSignup:!1,signupSuccessful:!0});case"SIGNUP_FAIL":return Object(P.a)(Object(P.a)({},e),{},{isSignup:!1,error:t.err});case"SIGNUP_FAIL_HANDLE":return Object(P.a)(Object(P.a)({},e),{},{error:null});default:return e}},chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TITLE_NAME":return Object(P.a)(Object(P.a)({},e),{},{titleName:t.titleName});case"SET_RECEIVER_ID":return Object(P.a)(Object(P.a)({},e),{},{receiverID:t.receiverID});case"SET_LIST_FRIEND":return Object(P.a)(Object(P.a)({},e),{},{listFriend:t.listFriend,callingAPI:!1});case"SET_LIST_MESSAGE":return Object(P.a)(Object(P.a)({},e),{},{listMessage:t.listMessage,callingAPI:!1});case"PUSH_MESSAGE":return Object(P.a)(Object(P.a)({},e),{},{listMessage:[].concat(Object(N.a)(e.listMessage),[t.arr]),callingAPI:!1});case"CALLING_API":return Object(P.a)(Object(P.a)({},e),{},{callingAPI:!0});case"FAIL":return Object(P.a)(Object(P.a)({},e),{},{error:t.err,callingAPI:!1});case"FAIL_HANDLE":return Object(P.a)(Object(P.a)({},e),{},{error:null});case"FINDUSER_START":return Object(P.a)(Object(P.a)({},e),{},{isFindUser:!0});case"FINDUSER_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{isFindUser:!1,findUserSuccessful:!0,dataFindUser:t.result});case"FINDUSER_FAIL":return Object(P.a)(Object(P.a)({},e),{},{isFindUser:!1,error:t.err});case"FINDUSER_FAIL_HANDLE":return Object(P.a)(Object(P.a)({},e),{},{error:null});default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_HOT_USER_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{hotUserData:t.hotUserData});case"GET_HOT_HUNT_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{huntData:t.hotHuntData});case"GET_HOME_DATA_START":return Object(P.a)(Object(P.a)({},e),{},{isGetHomeData:!0});case"GET_HOME_DATA_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{isGetHomeData:!1,getHomeDataSuccessful:!0,homeData:t.homeData});case"GET_HOME_DATA_FAIL":return Object(P.a)(Object(P.a)({},e),{},{isGetHomeData:!1,errorGetHomeData:t.err});case"GET_HOME_DATA_HANLDE_ERROR":return Object(P.a)(Object(P.a)({},e),{},{errorGetHomeData:null});case"GET_HOME_DATA_RESET":return Object(P.a)(Object(P.a)({},e),{},{homeData:{},isGetHomeData:!1,getHomeDataSuccessful:!1,errorGetHomeData:null});case"SET_MUSIC_SELECTED":return Object(P.a)(Object(P.a)({},e),{},{musicSelected:t.musicSelected});case"SET_RANKING":return Object(P.a)(Object(P.a)({},e),{},{rankingdata:t.rankingdata,isLoadingRankingData:!1});case"RANKING_START":return Object(P.a)(Object(P.a)({},e),{},{isLoadingRankingData:!0});case"SET_ERR":return Object(P.a)(Object(P.a)({},e),{},{error:t.err,isLoadingRankingData:!1});default:return e}},pageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_FOLLOW_PAGE":return Object(P.a)(Object(P.a)({},e),{},{userInfoData:Object(P.a)(Object(P.a)({},e.userInfoData),{},{isFollowed:t.setFollow,follow:t.setFollow?e.userInfoData.follow+1:e.userInfoData.follow-1})});case"HANDLE_SET_ERROR_GET_USER_UPLOAD":return Object(P.a)(Object(P.a)({},e),{},{errorUpload:null});case"SET_ERROR_GET_USER_UPLOAD":return Object(P.a)(Object(P.a)({},e),{},{errorUpload:t.errorPage});case"HANDLE_SET_ERROR_GET_USER_PAGE":return Object(P.a)(Object(P.a)({},e),{},{errorPage:null});case"SET_ERROR_GET_USER_PAGE":return Object(P.a)(Object(P.a)({},e),{},{errorPage:t.errorPage});case"SET_LOADING_UPLOAD":return Object(P.a)(Object(P.a)({},e),{},{loadingUpload:t.loadingUpload});case"SET_LOADING_DOWNLOAD":return Object(P.a)(Object(P.a)({},e),{},{loadingDownload:t.loadingDownload});case"SET_LOADING_ISO":return Object(P.a)(Object(P.a)({},e),{},{loadingIsoData:t.loadingIsoData});case"SET_LOADING_USER_INFO":return Object(P.a)(Object(P.a)({},e),{},{loadingUserData:t.loadingUserData});case"SET_MUSIC_SELECTED":return Object(P.a)(Object(P.a)({},e),{},{musicSelected:window.$linkIPFS+t.musicSelected});case"SET_USER_UPLOAD_DATA":return Object(P.a)(Object(P.a)({},e),{},{uploadData:t.uploadData});case"SET_USER_DOWNLOAD_DATA":return Object(P.a)(Object(P.a)({},e),{},{downloadData:t.downloadData});case"SET_USER_ISO_DATA":return Object(P.a)(Object(P.a)({},e),{},{isoData:t.isoData});case"SET_USER_INFO_DATA":return Object(P.a)(Object(P.a)({},e),{},{userInfoData:t.userInfoData});default:return e}},songReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RELATED_USER_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{relatedUserData:t.relatedUserData});case"GET_SONG_SAME_SINGER_SUCCESSFUL":return Object(P.a)(Object(P.a)({},e),{},{songSameSingerData:t.songSameSingerData});case"SET_IS_FOLLOW_SONG":return Object(P.a)(Object(P.a)({},e),{},{songInfo:Object(P.a)(Object(P.a)({},e.songInfo),{},{isFollowed:t.setFollow,follow:t.setFollow?e.songInfo.follow+1:e.songInfo.follow-1})});case"SET_SONG_DATA":return Object(P.a)(Object(P.a)({},e),{},{songInfo:t.songInfo});case"SET_ERROR_GET_SONG_DATA":return Object(P.a)(Object(P.a)({},e),{},{error:t.error});case"SET_LOADING_SONG_DATA":return Object(P.a)(Object(P.a)({},e),{},{isLoading:t.isLoading});default:return e}}}),z=function(e,t){return"LOG_OUT"===t.type&&(e=void 0),B(e,t)},G=Object(A.createLogger)({timestamps:!0,duration:!0}),q={key:"root",storage:_.a,whitelist:["userReducer"],stateReconciler:x.a},$=Object(I.a)(q,z),W=Object(D.e)($,Object(D.d)(Object(D.a)(G,F.a))),K=Object(I.b)(W),Y=a(23),J="updatable";function Q(){return{"Content-Type":"application/json; charset=utf-8",Accept:"application/json","x-access-token":W.getState().userReducer.user.accessToken}}function Z(e){w.a.open({key:J,description:r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(j.a,null),r.a.createElement("p",{style:{marginLeft:"15px"}},e)),duration:0,placement:"bottomLeft",style:{width:350}})}function X(e){w.a.error({key:J,message:"Error message",description:e,duration:0,placement:"bottomLeft"})}function ee(e){S.a.provider.waitForTransaction(e).then((function(){w.a.success({key:J,message:"Sucess Transaction",description:"Transaction has been successful",duration:0,placement:"bottomLeft",style:{width:350}})})).catch((function(e){w.a.error({key:J,message:"Error Transaction",description:"This is error message: "+e,duration:0,placement:"bottomLeft"})}))}function te(e,t){for(var a=""+Math.floor(e),n=e%1,r=a.length,i="";(r-=3)>0;)i=","+a.substr(r,3)+i;return a.substr(0,r+3)+i+(n?"."+Math.round(n*Math.pow(10,t||2)):"")}function ae(e){return Y.unix(Y().unix()+e).endOf("second").fromNow()}function ne(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/validFile",e,{headers:Q()}).then((function(e){if(1===e.data.status)return t();e.data.error.message.errmsg&&a(e.data.error.message.errmsg),a(e.data.error.message)})).catch((function(e){a(e)}))}))}function re(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/validUser",e,{headers:Q()}).then((function(e){if(1===e.data.status)return t();e.data.error.message.errmsg&&a(e.data.error.message.errmsg),a(e.data.error.message)})).catch((function(e){a(e)}))}))}function ie(){return new Promise((function(e,t){return C.a.get(S.a.api_url+"/actions/getUserToValidate",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))}))}function le(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/ethereums/getUserDownload/".concat(e),{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}function oe(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/upload",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ce(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/download",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function se(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/faucet",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ue(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/posthuntfile",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function me(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/users/getHash",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function pe(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/hunt",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function de(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/approveHuntedFile",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function he(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/approveLabeledFile",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function fe(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/removeLabeledFile",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ge(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/cancelHuntedFile",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Ee(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/findLabeler",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ye(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/takeFeedback",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function be(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/label",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ve(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/takeLabeler",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function ke(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/ethereums/getFeedback?idFile="+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){console.log("loi ne: "+e),a(e)}))}))}function Ce(){return new Promise((function(e,t){return C.a.get(S.a.api_url+"/ethereums/getHuntFile",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){console.log("loine: "+e),t(e)}))}))}function Oe(){return new Promise((function(e,t){return C.a.get(S.a.api_url+"/ethereums/getUnlabelFile",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){console.log("loine: "+e),t(e)}))}))}function Se(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/postDescription",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function we(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/createTemplateContract",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function je(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/createContract",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function De(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/follow",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Ie(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/actions/getUserTemplateContract/?idMongo="+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}function Te(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/actions/getContract/"+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}function _e(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/setApprovedContract",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Ae(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/executeContract",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Fe(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/setApprove",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function Re(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/ethereums/cancelContract",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}function xe(){return new Promise((function(e,t){return C.a.get(S.a.api_url+"/actions/getNotification",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))}))}var Pe=a(144);function Ue(e,t){return function(a){a({type:"SIGNIN_START"}),function(e,t){return new Promise((function(a,n){var r={email:e,password:t};return C.a.post(S.a.api_url+"/users/login",r).then((function(e){if(0===e.data.status)return n(e.data.error.message);a(e.data.result)})).catch((function(e){n(e)}))}))}(e,t).then((function(e){a(function(e){return{type:"SET_USER_DATA",user:e}}(e))})).then((function(){a({type:"SIGNIN_SUCCESSFUL"})})).catch((function(e){a(function(e){return{type:"SIGNIN_FAIL",err:e}}(e))}))}}function Ne(e){return function(t){t({type:"UPDATE_START"}),function(e){return new Promise((function(t,a){return C.a.post(S.a.api_url+"/actions/updateUser",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"UPDATE_SUCCESSFUL",userName:e}}(e))})).catch((function(e){console.log(e),t(function(e){return{type:"UPDATE_FAIL",err:e}}(e))}))}}var Le=!0;function Me(e){return{type:"SET_ETH",eth:e}}function Ve(e,t,a,n,r){return function(i){i({type:"SIGNUP_START"}),function(e,t,a,n,r){return new Promise((function(i,l){var o={user:{email:e,password:t,nickName:a,phone:n,genre:r}};return C.a.post(S.a.api_url+"/users/create",o).then((function(e){if(1===e.data.status)return i();e.data.error.message.errmsg&&l(e.data.error.message.errmsg),l(e.data.error.message)})).catch((function(e){l(e)}))}))}(e,t,a,n,r).then((function(){i({type:"SIGNUP_SUCCESSFUL"})})).then((function(){i(Ue(e,t))})).catch((function(e){i(He(e))}))}}function He(e){return{type:"SIGNUP_FAIL",err:e}}var Be=a(371),ze=a.n(Be),Ge=h.a.Text,qe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isloading:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){t||(console.log("Received values of form: ",a),e.setState({isloading:!0}),e.props.login(a.email,a.password))}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.error&&(this.setState({isloading:!1}),f.a.error({title:"Login error message ",content:this.props.userReducer.error}),this.props.signin_fail_handle()),this.props.userReducer.signinSuccessful&&(this.props.history.push("/home"),f.a.success({title:"DATA DISTRIBUTION",content:r.a.createElement("div",null,r.a.createElement(Ge,null,"Dida (Data Distribution) l\xe0 h\u1ec7 th\u1ed1ng ph\xe2n ph\u1ed1i d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c ph\xe1t tri\u1ec3n d\u1ef1a tr\xean n\u1ec1n t\u1ea3ng c\xf4ng ngh\u1ec7 Blockchain. Qua \u0111\xf3 \u0111\u1ea1t \u0111\u01b0\u1ee3c c\xe1c t\xednh minh b\u1ea1ch v\xe0 an ninh v\xe0 quan tr\u1ecdng nh\u1ea5t l\xe0 trao quy\u1ec1n ki\u1ec3m so\xe1t d\u1eef ng\u01b0\u1eddi d\xf9ng. Ngo\xe0i ra h\u1ec7 th\u1ed1ng c\xf2n c\xf3 c\xe1c t\xednh n\u0103ng gi\xfap ng\u01b0\u1eddi d\xf9ng ki\u1ebfm ti\u1ec1n nh\u01b0 t\xecm d\u1eef li\u1ec7u h\u1ed9, b\xe1n d\u1eef li\u1ec7u c\xe1 nh\xe2n. H\u1ec7 th\u1ed1ng \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf theo chu\u1ea9n GDPR(General Data Protection Regulation)"))})),r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(g.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(g.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(y.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(g.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(b.a,null,"Remember me")),r.a.createElement("a",{href:"",className:"login-form-forgot"},"Forgot password"),r.a.createElement(v.a,{loading:this.state.isloading,type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or",r.a.createElement(v.a,{onClick:function(){return e.props.history.push("/register")},type:"link"},"register now!")),r.a.createElement(g.a.Item,null,r.a.createElement("div",{className:"container-custom"},r.a.createElement("img",{alt:"",src:ze.a,onClick:this.login,className:"gif-load"})))))}}]),a}(r.a.Component),$e=g.a.create({name:"normal_login"})(qe),We=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{login:function(t,a){return e(Ue(t,a))},signin_fail_handle:function(){return e({type:"SIGNIN_FAIL_HANDLE"})}}}))($e),Ke=a(100),Ye=a(814),Je=a(74),Qe=a(196),Ze=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ye.a,{icon:r.a.createElement(y.a,{type:"loading"}),title:"Please wait a second ..."})}}]),a}(r.a.Component),Xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.subTitle,i=t.goTo,l=t.func;return r.a.createElement(Ye.a,{status:"error",title:a,subTitle:n,extra:[r.a.createElement(v.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(i)),l()}},"Go to ",i)]})}}]),a}(r.a.Component),et=Object(d.g)(Xe),tt=Ke.a.Option,at=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={confirmDirty:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,a){var n=a.email,r=a.password,i=a.nickName,l=a.phone,o=a.genre;t||(console.log("Received values of form: ",a),e.props.createUser(n,r,i,l,o))}))},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.compareToFirstPassword=function(t,a,n){var r=e.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.validateToNextPassword=function(t,a,n){var r=e.props.form;a&&e.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},e.handleSubmitSuccess=function(){e.props.history.push("/home"),e.props.clear_state_register()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a=e("prefix",{initialValue:"84"})(r.a.createElement(Ke.a,{style:{width:70}},r.a.createElement(tt,{value:"84"},"+84"),r.a.createElement(tt,{value:"86"},"+86")));return this.props.userReducer.error?(alert(this.props.userReducer.error),this.props.clear_state_register(),r.a.createElement(et,null)):this.props.userReducer.signupSuccessful?(this.props.form.resetFields(),r.a.createElement(Ye.a,{status:"success",title:"Login Success",subTitle:"Click here to go home page !",extra:[r.a.createElement(v.a,{type:"primary",onClick:this.handleSubmitSuccess},"Go to homepage")]})):this.props.userReducer.isSignup?r.a.createElement(Ze,null):r.a.createElement("div",{className:"wrap-form-login"},r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"register-form"},r.a.createElement(g.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(E.a.Password,null))),r.a.createElement(g.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(E.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(Je.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{type:"question-circle-o"})))},e("nickName",{rules:[{required:!0,message:"Your input is not valid."}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:"Phone Number"},e("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(E.a,{addonBefore:a,style:{width:"100%"}}))),r.a.createElement(g.a.Item,{label:"Genre"},e("genre",{initialValue:3})(r.a.createElement(Qe.a.Group,null,r.a.createElement(Qe.a,{value:1},"Man"),r.a.createElement(Qe.a,{value:2},"Woman"),r.a.createElement(Qe.a,{value:3},"Other")))),r.a.createElement(g.a.Item,t,e("agreement",{valuePropName:"checked"})(r.a.createElement(b.a,null,"I have read the ",r.a.createElement("a",null,"agreement")))),r.a.createElement(g.a.Item,t,r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),a}(r.a.Component),nt=g.a.create({name:"register"})(at),rt=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{createUser:function(t,a,n,r,i){return e(Ve(t,a,n,r,i))},signup_fail:function(){return e(He())},signup_fail_handle:function(){return e({type:"SIGNUP_FAIL_HANDLE"})},clear_state_register:function(){return e({type:"CLEAR_STATE_REGISTER"})}}}))(nt),it=a(803),lt=a(782),ot=a(805),ct=it.a.Dragger,st=(h.a.Text,[{title:"File Name",className:"name",dataIndex:"name"},{title:"Link",className:"link",dataIndex:"link",render:function(e){return r.a.createElement("a",{href:e},e)}}]),ut=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={results:[]},e}return Object(c.a)(a,[{key:"onUpload",value:function(e){var t=e.file.status;if("uploading"!==t){console.log({name:e.file.originFileObj.name,link:S.a.ipfs_url+e.file.response.result});var a=this.state.results;a.push({name:e.file.originFileObj.name,link:S.a.ipfs_url+e.file.response.result}),this.setState({results:a})}"done"===t?lt.a.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&lt.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this;return console.log(this.state.results),r.a.createElement("div",null,r.a.createElement(ct,{name:"file",multiple:!0,action:S.a.api_url+"/users/upload",onChange:function(t){e.onUpload(t)}},r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")),r.a.createElement(ot.a,{columns:st,dataSource:this.state.results,bordered:!0}),",")}}]),a}(r.a.Component),mt=a(256),pt=a.n(mt),dt=a(783),ht=a(267),ft=a(784),gt=a(810),Et=a(194),yt=a(819),bt=a(95),vt=a.n(bt),kt=a(380),Ct=a.n(kt),Ot=h.a.Text,St=h.a.Paragraph,wt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,amountFaucet:5e6,notificationData:[],notificationCount:0,loading:!1,visible1:!1,visible2:!1,visibleValidateUserModal:!1,visibleValidateFileModal:!1,userArray:[],fileArray:[],addressTo:""},e.onClickLogOut=function(){e.props.logOut(),localStorage.clear(),e.props.history.push("/login")},e.handleOk=function(){e.setState({visible:!1}),Z("Transfering DIV from ".concat(e.props.userReducer.user.userName," to ").concat(e.state.addressTo)),se({addressTo:e.state.addressTo,amount:e.state.amountFaucet}).then((function(e){ee(e)}))},e.handleValidateUser=function(t,a){re({addressEthereum:t,isConfirm:a}).then((function(a){var n=e.state.userArray,r=n.indexOf(t);r>-1&&n.splice(r,1),e.setState({userArray:n})}))},e.handleValidateFile=function(t,a){ne({idMongo:t,isConfirm:a}).then((function(a){var n=e.state.fileArray,r=n.indexOf(t);r>-1&&n.splice(r,1),e.setState({fileArray:n})}))},e.componentDidMount=function(){ie().then((function(t){e.setState({userArray:t.userArray,fileArray:t.fileArray})})),e.props.getBalance(e.props.userReducer.user.addressEthereum),0===e.state.notificationData.length&&xe().then((function(t){e.setState({notificationData:t.data,notificationCount:t.countFalse})}))},e.handleClickSeen=function(t,a){if(window.$socket.emit("notification_seen",{id:t}),!e.state.notificationData[a].isSeen){var n=e.state.notificationData;n[a].isSeen=!0,e.setState({notificationData:n,notificationCount:e.state.notificationCount-1})}},e.componentWillMount=function(){var t=e.props.userReducer.user.accessToken;window.$socket||(window.$socket=pt()(S.a.url+"/chat",{query:{token:t}})),window.$socket.on("notification",(function(t){var a=e.state.notificationData;a.unshift(t),e.setState({notificationCount:e.state.notificationCount+1,notificationData:a})}))},e.showModal=function(){e.setState({visible1:!0})},e.showModal1=function(){e.setState({visible:!0})},e.showValidateUserModal=function(){e.setState({visibleValidateUserModal:!0})},e.showValidateFileModal=function(){e.setState({visibleValidateFileModal:!0})},e.handleCancel1=function(){e.setState({visible2:!1})},e.handleCancel=function(){e.setState({visible1:!1})},e.handleValidateUserOk=function(){e.setState({loading:!0}),setTimeout((function(){e.setState({loading:!1,visibleValidateUserModal:!1})}),3e3)},e.handleValidateUserCancel=function(){e.setState({visibleValidateUserModal:!1})},e.handleValidateFileOk=function(){e.setState({loading:!0}),setTimeout((function(){e.setState({loading:!1,visibleValidateFileModal:!1})}),3e3)},e.handleValidateFileCancel=function(){e.setState({visibleValidateFileModal:!1})},e.warning=function(){f.a.warning({title:"D\u1eee LI\u1ec6U C\xc1 NH\xc2N!",content:"B\u1ea1n s\u1ebd ph\u1ea3i chi tr\u1ea3 ... cho ... b\u1ed9 d\u1eef li\u1ec7u c\xe1 nh\xe2n. H\xe3y ch\u1eafc ch\u1eafn b\u1ea1n mu\u1ed1n th\u1ef1c hi\u1ec7n giao d\u1ecbch n\xe0y"})},e}return Object(c.a)(a,[{key:"onChange",value:function(e){console.log("changed",e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.userArray,n=t.fileArray,i=t.visible,l=t.visible1,o=t.visible2,c=t.visibleValidateUserModal,s=t.visibleValidateFileModal,u=t.loading,m=t.amountFaucet,p=t.notificationCount,d=t.notificationData,h=[{title:"Address",key:"user",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Action",key:"action",ellipsis:!0,render:function(t){return r.a.createElement("span",null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleValidateUser(t,!0)}},"Validate"),r.a.createElement(dt.a,{type:"vertical"}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleValidateUser(t,!1)}},"Delete"))}}],g=[{title:"ID Mongo",key:"file",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){return e.props.history.push("/data/".concat(t))}},t)}},{title:"Action",key:"action",ellipsis:!0,render:function(t){return r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleValidateFile(t,!0)}},"Validate"),r.a.createElement(dt.a,{type:"vertical"}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleValidateFile(t,!1)}},"Delete")))}}],b=r.a.createElement(ht.a,null,d.map((function(t,a){return e.props.userReducer.user.id===t.senderID?r.a.createElement(ht.a.Item,{style:{display:"flex",alignItems:"center",backgroundColor:t.isSeen?"#f5f5f5":""},onClick:function(){return e.handleClickSeen(t._id,a)}},r.a.createElement(ft.a,{shape:"square",size:48,src:window.$linkIPFS+t.songImage}),r.a.createElement("div",{style:{height:50,marginLeft:10}},r.a.createElement(St,{style:{marginBottom:7},ellipsis:!0},t.contentSender),1===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"\u0110ang ch\u1edd ",r.a.createElement(Ot,{code:!0},"x\xe1c th\u1ef1c b\u1ea3n quy\u1ec1n d\u1eef li\u1ec7u")," tr\xean h\u1ec7 th\u1ed1ng."):2===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\u1ea1n b\u1ecb tr\u1eeb v\xe0o v\xed ",r.a.createElement(Ot,{code:!0},te(t.money))," DIV."):3===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Th\u1eddi gian cho ph\xe9p \u0111\u1ea7u t\u01b0 c\xf2n ",r.a.createElement(Ot,{code:!0},ae(t.money))):4===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\u1ea1n b\u1ecb tr\u1eeb v\xe0o v\xed ",r.a.createElement(Ot,{code:!0},te(t.money))," DIV."):6===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Approved")," n\u1ebfu \u0111\xe3 ch\u1ea5p nh\u1eadn h\u1ee3p \u0111\u1ed3ng"):7===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Ch\u1edd")," \u0111\u1ed1i t\xe1c ch\u1ea5p nh\u1eadn h\u1ee3p \u0111\u1ed3ng"):8===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Ki\u1ec3m tra")," l\u1ea1i s\u1ed1 d\u01b0"):9===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\u1ea1n ph\u1ea3i ch\u1ecbu ",r.a.createElement(Ot,{code:!0}," ti\u1ec1n b\u1ed3i th\u01b0\u1eddng")," v\xec h\xe0nh \u0111\u1ed9ng n\xe0y"):10===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\xe2y gi\u1edd b\u1ea1n l\xe0 ",r.a.createElement(Ot,{code:!0},"Ch\u1ee7 s\u1edf h\u1eefu")," b\u1ed9 d\u1eef li\u1ec7u n\xe0y tr\xean h\u1ec7 th\u1ed1ng"):null)):r.a.createElement(ht.a.Item,{style:{display:"flex",alignItems:"center",backgroundColor:t.isSeen?"#f5f5f5":""},onClick:function(){return e.handleClickSeen(t._id,a)}},5===t.type||6===t.type||7===t.type||8===t.type||9===t.type?r.a.createElement(ft.a,{shape:"square",size:48,src:window.$linkIPFS+t.songImage}):r.a.createElement(ft.a,{shape:"circle",size:48,src:window.$linkIPFS+t.senderAvatar}),r.a.createElement("div",{style:{height:50,marginLeft:10}},r.a.createElement(St,{style:{marginBottom:7},ellipsis:!0},t.contentReceiver),6===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Ki\u1ec3m tra")," l\u1ea1i h\u1ee3p \u0111\u1ed3ng n\xe0y"):7===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Confirm")," h\u1ee3p \u0111\u1ed3ng tr\xean Blockchain "):8===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"Vui l\xf2ng ",r.a.createElement(Ot,{code:!0},"Ki\u1ec3m tra")," l\u1ea1i s\u1ed1 d\u01b0"):9===t.type?r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c ",r.a.createElement(Ot,{code:!0},"ti\u1ec1n b\u1ed3i th\u01b0\u1eddng")):r.a.createElement(St,{type:"secondary",style:{marginBottom:0},ellipsis:!0},"B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng th\xeam v\xe0o v\xed ",r.a.createElement(Ot,{code:!0},te(t.money))," DIV")))}))),k=r.a.createElement(ht.a,null,r.a.createElement(ht.a.Item,{onClick:function(){window.location.href="https://kovan.etherscan.io/token/".concat(S.a.tokenAddress,"?a=").concat(e.props.userReducer.user.addressEthereum)}},r.a.createElement(y.a,{type:"pay-circle",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,te(this.props.userReducer.user.HAK)," DIV")),r.a.createElement(ht.a.Item,{onClick:function(){window.location.href="https://kovan.etherscan.io/address/".concat(e.props.userReducer.user.addressEthereum)}},r.a.createElement(y.a,{type:"dollar",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,this.props.userReducer.balanceETH," ETH")),r.a.createElement(ht.a.Divider,null),r.a.createElement(ht.a.Item,{onClick:function(){return e.props.history.push("/contractFormManager")}},r.a.createElement(y.a,{type:"solution",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Contract form manager")),r.a.createElement(ht.a.Item,{onClick:function(){return e.props.history.push("/find-data")}},r.a.createElement(y.a,{type:"file-search",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Post request find data")),r.a.createElement(ht.a.Item,{onClick:function(){return e.props.history.push("/setting")}},r.a.createElement(y.a,{type:"setting",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Setting")),r.a.createElement(ht.a.Item,{onClick:function(){return e.props.history.push("/set-personal-data")}},r.a.createElement(y.a,{type:"edit",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Set Personal Data")),this.props.userReducer.user.isAdmin?r.a.createElement(ht.a.Item,{onClick:this.showValidateUserModal},r.a.createElement(y.a,{type:"edit",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"validate User")):null,this.props.userReducer.user.isAdmin?r.a.createElement(ht.a.Item,{onClick:this.showValidateFileModal},r.a.createElement(y.a,{type:"edit",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Validate File")):null,r.a.createElement(ht.a.Divider,null),r.a.createElement(ht.a.Item,{onClick:function(){return e.onClickLogOut()}},r.a.createElement(y.a,{type:"logout",style:{color:"#1da1f2",fontSize:15,margin:5}}),r.a.createElement(Ot,null,"Log Out")));return r.a.createElement("div",{style:{borderBottom:"1px solid #D6DBDF",height:60,display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:1200}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Je.a,{placement:"topLeft",title:"Data Distribution",arrowPointAtCenter:!0},r.a.createElement("img",{src:vt.a,onClick:function(){return e.props.history.push("/home")},alt:"Data Distribution",style:{width:"40px",height:"40px"}}))),r.a.createElement("div",null,r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/survey/intro")}},"SURVEY"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/labeling")}},"LABELING"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/martketplaceFindData")}},"FIND DATA"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/contract")}},"CONTRACTS"),r.a.createElement(v.a,{ghost:!0,style:{color:"#424242",marginLeft:5},onClick:function(){return e.props.history.push("/upload")}},"UPLOAD"),r.a.createElement(v.a,{ghost:!0,type:"primary",style:{color:"#D80000"},onClick:this.warning},"GET PERSONAL DATA"),r.a.createElement(v.a,{type:"primary",style:{marginLeft:5},onClick:this.showModal},"RECEIVE"),r.a.createElement(v.a,{type:"primary",style:{marginLeft:5},onClick:this.showModal1},"TRANSFER"),r.a.createElement(f.a,{visible:l,title:r.a.createElement("h2",null,"Div Wallet Address"),onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(v.a,{key:"back",onClick:this.handleCancel},"OK")]},r.a.createElement(Ct.a,{id:"qrcode",value:this.props.userReducer.user.addressEthereum,size:290,level:"H",includeMargin:!0})),r.a.createElement(f.a,{visible:o,title:r.a.createElement("h2",null,"Transfer"),onOk:this.handleOk1,onCancel:this.handleCancel1,footer:[r.a.createElement(v.a,{key:"back",onClick:this.handleCancel1},"Return"),r.a.createElement(v.a,{key:"submit",type:"primary",loading:u,onClick:this.handleOk1},"Submit")]},r.a.createElement(gt.a,{placeholder:"AMOUNT",formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:this.onChange,min:1,max:this.props.userReducer.user.HAK}),r.a.createElement(E.a,{placeholder:"To"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Your Account: ",this.props.userReducer.user.addressEthereum),r.a.createElement("b",null,"Balance: ",this.props.userReducer.user.HAK," DIVs"))),r.a.createElement(f.a,{visible:c,title:r.a.createElement("h2",null,"Users to validate"),onOk:this.handleValidateUserOk,onCancel:this.handleValidateUserCancel,footer:[r.a.createElement(v.a,{key:"back",onClick:this.handleValidateUserCancel},"Return"),r.a.createElement(v.a,{key:"submit",type:"primary",loading:u,onClick:this.handleValidateUserOk},"Submit")]},r.a.createElement(ot.a,{columns:h,dataSource:a})),r.a.createElement(f.a,{visible:s,title:r.a.createElement("h2",null,"Files to validate"),onOk:this.handleValidateFileOk,onCancel:this.handleValidateFileCancel,footer:[r.a.createElement(v.a,{key:"back",onClick:this.handleValidateFileCancel},"Return"),r.a.createElement(v.a,{key:"submit",type:"primary",loading:u,onClick:this.handleValidateFileOk},"Submit")]},r.a.createElement(ot.a,{columns:g,dataSource:n}))),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Je.a,{placement:"topLeft",title:"Home Page",arrowPointAtCenter:!0},r.a.createElement(ft.a,{shape:"circle",size:35,src:window.$linkIPFS+this.props.userReducer.user.avatar,onClick:function(){e.props.userReducer.user.userName?e.props.history.push("/page/".concat(e.props.userReducer.user.userName)):e.props.history.push("/page/".concat(e.props.userReducer.user.addressEthereum))}})),r.a.createElement(Je.a,{placement:"topLeft",title:"Notification",arrowPointAtCenter:!0},r.a.createElement(Et.a,{placement:"bottomCenter",trigger:["click"],overlay:b,overlayStyle:{width:500}},r.a.createElement(yt.a,{count:p},r.a.createElement(y.a,{type:"bell",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}})))),r.a.createElement(Je.a,{placement:"topLeft",title:"Message",arrowPointAtCenter:!0},r.a.createElement(yt.a,{count:0},r.a.createElement(y.a,{type:"message",onClick:function(){return e.props.history.push("/message")},style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(Je.a,{placement:"topLeft",title:"Contract",arrowPointAtCenter:!0},r.a.createElement(yt.a,{count:0},r.a.createElement(y.a,{type:"profile",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}}))),r.a.createElement(Et.a,{overlay:k,trigger:["click"]},r.a.createElement(y.a,{type:"caret-down",style:{color:"#1da1f2",fontSize:25,paddingLeft:17}})))),r.a.createElement(f.a,{title:"Transfer DIV",width:250,visible:i,onOk:this.handleOk,onCancel:function(){e.setState({visible:!1})}},r.a.createElement(gt.a,{defaultValue:m,min:1e6,max:1e7,style:{width:150,marginBottom:20,marginRight:10},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:function(t){e.setState({amountFaucet:t})}}),r.a.createElement("span",{className:"ant-form-text"}," DIV"),r.a.createElement("p",{className:"ant-form-text"},"Address To"),r.a.createElement(E.a,{onChange:function(t){e.setState({addressTo:t.target.value})}})))}}]),a}(n.Component),jt=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getBalance:function(t){return e((a=t,function(e){if(Le){Le=!1,S.a.provider.getBalance(a).then((function(t){var a=Pe.ethers.utils.formatEther(t);e(Me(a))})),S.a.provider.on(a,(function(t){var a=Pe.ethers.utils.formatEther(t);e(Me(a))}));var t=S.a.tokenAddress,n=S.a.tokenABI,r=S.a.provider,i=new Pe.ethers.Contract(t,n,r),l=i.filters.Transfer(null,a);i.on(l,(function(t,a,n){console.log(Number(n)),console.log("I received "+n.toString()+" tokens from "+t),e({type:"SET_HAK_ADD",hak:Number(n)})}));var o=i.filters.Transfer(a);i.on(o,(function(t,a,n){console.log(Number(n)),console.log("I sended "+n.toString()+" tokens to "+a),e({type:"SET_HAK_SUB",hak:Number(n)})}))}}));var a}}}))(wt),Dt=(a(683),a(135)),It=a(77),Tt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footerdiv"},r.a.createElement("div",{className:"footercontent"},r.a.createElement(Dt.a,{gutter:8},r.a.createElement(It.a,{className:"gutter-row",span:8},r.a.createElement("img",{src:vt.a,className:"footerlogo",alt:"Data Distribution"}),r.a.createElement("h2",null,"Data Distribution")),r.a.createElement(It.a,{className:"gutter-row",span:8},r.a.createElement("div",{className:"footermiddlecol"},r.a.createElement("p",null," ",r.a.createElement(y.a,{type:"environment"})," Divergent Valley, Viet Nam"),r.a.createElement("p",null," ",r.a.createElement(y.a,{type:"mobile"})," 0337597788"),r.a.createElement("p",null," \xa9 2020 Data Distribution All Rights Reserverd"))),r.a.createElement(It.a,{className:"gutter-row",span:8},r.a.createElement("h2",null," About The Company"),r.a.createElement("p",null),r.a.createElement("p",null," We offer many solutions to protect and monetize from your data.  "))))))}}]),a}(r.a.Component);var _t=a(785),At=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"block"}},r.a.createElement(jt,{history:this.props.history,logOut:this.props.log_out}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",padding:10}},r.a.createElement("div",{style:{width:1100,minHeight:"calc(100vh - 270px)",backgroundColor:"#ffffff",padding:10}},this.props.main)),r.a.createElement(Tt,null),r.a.createElement(_t.a,{visibilityHeight:"100"}))}}]),a}(n.Component),Ft=Object(m.b)(null,(function(e){return{log_out:function(){return e({type:"LOG_OUT"})}}}))(At),Rt=a(143),xt=a(30),Pt=a(794),Ut=a(786),Nt=a(754),Lt=a(384),Mt=a.n(Lt),Vt=a(809),Ht=a(797),Bt=a(151),zt=a(385),Gt=a.n(zt),qt=a(386),$t=a.n(qt),Wt=a(795),Kt=a(796),Yt=a(789);var Jt=Object(xt.a)({card:{margin:"10px"},title:{fontSize:14,maxWidth:"50vw"},div:{display:"table"},sender:{display:"flex",justifyContent:"flex-end"},seen:{color:"#bdbdbd"}})((function(e){var t,a,n=e.classes;return!0===e.sender&&(t=n.sender),!0===e.seen&&(a="seen"),r.a.createElement("li",{className:t,style:{listStyleType:"none"}},r.a.createElement("div",{className:n.div},r.a.createElement(Ut.a,{className:n.card},r.a.createElement(Yt.a,{style:{paddingBottom:"16px"}},r.a.createElement(Bt.a,{className:n.title,color:"textSecondary",gutterBottom:!0},e.content))),r.a.createElement("div",{className:n.seen},a)))})),Qt=a(200),Zt=a(818),Xt=a(791),ea=a(822),ta=a(792),aa=a(793),na=a(790),ra=a(802),ia=a(150),la=a.n(ia),oa=a(132),ca=a.n(oa);function sa(){return new Promise((function(e,t){var a={userID:W.getState().userReducer.user.id};return C.a.post(S.a.api_url+"/chats/getListFriend",a,{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error);e(a.data.result)})).catch((function(e){t(e)}))}))}function ua(){return function(e){e({type:"CALLING_API"}),sa().then((function(t){if(e(pa(t)),t.length>=1){var a=t[0]._id;e(ma(a)),e(ha(a)),e(da(t[0].email))}})).catch((function(t){e(fa(t))}))}}function ma(e){return function(t){t({type:"CALLING_API"}),function(e){return new Promise((function(t,a){var n={senderID:W.getState().userReducer.user.id,receiverID:e};return C.a.post(S.a.api_url+"/chats/getListMessage",n,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_LIST_MESSAGE",listMessage:e}}(e))})).catch((function(e){t(fa(e))}))}}function pa(e){return{type:"SET_LIST_FRIEND",listFriend:e}}function da(e){return{type:"SET_TITLE_NAME",titleName:e}}function ha(e){return{type:"SET_RECEIVER_ID",receiverID:e}}function fa(e){return{type:"FAIL",err:e}}function ga(e){return function(t){t({type:"FINDUSER_START"}),function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/users/find",{params:{keyword:e}}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"FINDUSER_SUCCESSFUL",result:e}}(e))})).catch((function(e){t(function(e){return{type:"FINDUSER_FAIL",err:e}}(e))}))}}var Ea={avatar:{backgroundColor:ca.a[100],color:ca.a[600]}},ya=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClose=function(){e.props.onClose(e.props.selectedValue)},e.handleListItemClick=function(t,a){e.props.onClose(),e.props.set_title_name(a),e.props.getListMessage(t),e.props.select_user_to_chat(t)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.onClose,t.selectedValue,Object(Qt.a)(t,["classes","onClose","selectedValue"]));return r.a.createElement(ra.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement(na.a,{id:"simple-dialog-title"},"List users"),r.a.createElement("div",null,r.a.createElement(Xt.a,null,this.props.chatReducer.dataFindUser.map((function(t){return r.a.createElement(ea.a,{button:!0,onClick:function(){return e.handleListItemClick(t._id,t.email)},key:t._id},r.a.createElement(ta.a,null,r.a.createElement(Zt.a,{className:a.avatar},r.a.createElement(la.a,null))),r.a.createElement(aa.a,{primary:t.email}))})))))}}]),a}(r.a.Component),ba=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(ua())},getListMessage:function(t){return e(ma(t))},select_user_to_chat:function(t){return e(ha(t))},set_title_name:function(t){return e(da(t))}}}))(Object(xt.a)(Ea)(ya)),va={avatar:{backgroundColor:ca.a[100],color:ca.a[600]},onlineBar:{textAlign:"right"}},ka=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleListItemClick=function(t,a){e.props.getListMessage(t),e.props.select_user_to_chat(t),e.props.set_title_name(a)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Xt.a,null,this.props.chatReducer.listFriend.map((function(a){return a.socketID?r.a.createElement(ea.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(ta.a,null,r.a.createElement(Zt.a,{className:t.avatar},r.a.createElement(la.a,null))),r.a.createElement(aa.a,{primary:a.email}),r.a.createElement(aa.a,{primary:"online",className:t.onlineBar})):r.a.createElement(ea.a,{button:!0,onClick:function(){return e.handleListItemClick(a._id,a.email)},key:a._id},r.a.createElement(ta.a,null,r.a.createElement(Zt.a,{className:t.avatar},r.a.createElement(la.a,null))),r.a.createElement(aa.a,{primary:a.email}))}))))}}]),a}(r.a.Component),Ca=Object(m.b)((function(e){return{chatReducer:e.chatReducer}}),(function(e){return{getListFriend:function(){return e(ua())},getListMessage:function(t){return e(ma(t))},select_user_to_chat:function(t){return e(ha(t))},set_title_name:function(t){return e(da(t))}}}))(Object(xt.a)(va)(ka)),Oa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClickSearch=function(){n.setState({open:!0}),n.props.findUser(n.state.searchText)},n.handleClose=function(){n.setState({open:!1})},n.onClickLogOut=function(e){window.$socket.disconnect(),n.props.log_out(),localStorage.clear(),n.props.history.push("/login")},n.onFocusMessage=function(){var e=n.props.chatReducer.listMessage,t=e[e.length-1];if(t){var a={senderID:t.senderID,receiverID:t.receiverID};n.props.userReducer.user.id!==t.senderID&&window.$socket.emit("is seen",a)}},n.handleClickSend=function(){if(n.state.content){var e={senderID:n.props.userReducer.user.id,receiverID:n.props.chatReducer.receiverID,content:n.state.content},t={senderID:n.props.userReducer.user.id,content:n.state.content,date_created:Date(Date.now())};n.props.chatReducer.listFriend.find((function(e){return e._id===n.props.chatReducer.receiverID}))?window.$socket.emit("chat message",e):(window.$socket.emit("first message",e),window.$socket.on("return friend",(function(){n.props.getNewFriend()}))),n.props.push_message(t),n.setState({content:""});var a=document.getElementById("inputMessage");a.scrollTop=a.scrollHeight,window.$socket.emit("typing",Object(P.a)(Object(P.a)({},e),{},{isTyping:!1}))}},n.componentWillMount=function(){null===n.props.userReducer.user.accessToken&&n.props.history.push("/login"),n.props.getListFriend(),window.$socket.on("error",(function(e){alert("socket error"+e)})),window.$socket.on("chat message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};e.senderID===n.props.chatReducer.receiverID&&n.props.push_message(t)})),window.$socket.on("first message",(function(e){var t={senderID:e.senderID,receiverID:e.receiverID,content:e.content,date_created:Date(Date.now())};n.props.getListFriend(),e.senderID===n.props.chatReducer.receiverID&&n.props.push_message(t)})),window.$socket.on("is seen",(function(){n.props.getListMessage(n.props.chatReducer.receiverID)})),window.$socket.on("typing",(function(e){e.senderID===n.props.chatReducer.receiverID&&(!0===e.isTyping&&n.setState({typing:!0}),!1===e.isTyping&&n.setState({typing:!1}))}))},n.state={open:!1,searchText:"",content:"",typing:!1},n.socket=null,n.handleKeyPressSearch=n.handleKeyPressSearch.bind(Object(Rt.a)(n)),n.handleKeyPressMessage=n.handleKeyPressMessage.bind(Object(Rt.a)(n)),n}return Object(c.a)(a,[{key:"handleKeyPressSearch",value:function(e){"Enter"===e.key&&this.handleClickSearch()}},{key:"handleKeyPressMessage",value:function(e){var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};"Enter"===e.key?this.handleClickSend(e):"Backspace"===e.key&&""===this.state.content&&window.$socket.emit("typing",Object(P.a)(Object(P.a)({},t),{},{isTyping:!1}))}},{key:"onTyping",value:function(e){this.setState({content:e.target.value});var t={receiverID:this.props.chatReducer.receiverID,senderID:this.props.userReducer.user.id};0===this.state.content.length&&(this.onFocusMessage(),window.$socket.emit("typing",Object(P.a)(Object(P.a)({},t),{},{isTyping:!0})))}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("inputMessage");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.chatReducer.error&&(alert("Find user fail: "+this.props.chatReducer.error),this.props.signin_fail_handle()),r.a.createElement(Pt.a,{container:!0,style:{marginBottom:100}},r.a.createElement(Pt.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:t.divBottom,style:{borderRight:"1px solid #e0e0e0"}},r.a.createElement("div",{className:t.searchDiv},r.a.createElement(Vt.a,{placeholder:"Search\u2026",classes:{root:t.inputSearchRoot,input:t.inputSearch},value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},onKeyPress:this.handleKeyPressSearch}),r.a.createElement(Wt.a,{className:t.divider}),r.a.createElement(Kt.a,{type:"submit",variant:"outlined",className:t.iconButton,onClick:this.handleClickSearch,disabled:this.props.chatReducer.isFindUser},r.a.createElement(Mt.a,null)),r.a.createElement(ba,{className:t.findUser,open:this.state.open,onClose:this.handleClose})),r.a.createElement("div",null,r.a.createElement(Ut.a,{className:t.cardListFriend},r.a.createElement(Ca,null))))),r.a.createElement(Pt.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:t.divTop,style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Kt.a,{style:{padding:5}},r.a.createElement(Gt.a,null)),this.props.userReducer.user.email),r.a.createElement(Bt.a,{variant:"h6"},this.props.chatReducer.titleName)),r.a.createElement("div",{className:t.divBottom},r.a.createElement(Ut.a,{className:t.cardMessage},r.a.createElement("div",{id:"inputMessage",style:{overflow:"auto"}},r.a.createElement("ul",null,this.props.chatReducer.listMessage.map((function(t){if(t.senderID===e.props.userReducer.user.id){var a=e.props.chatReducer.listMessage,n=a[a.length-1];return t===n&&!0===n.isSeen?r.a.createElement(Jt,{content:t.content,key:t._id,sender:!0,seen:!0}):r.a.createElement(Jt,{content:t.content,key:t._id,sender:!0})}return r.a.createElement(Jt,{content:t.content,key:t._id,sender:!1})})),r.a.createElement(Bt.a,{style:{color:"#bdbdbd"}},this.state.typing?"Typing.......":""))),r.a.createElement("div",null,r.a.createElement(Nt.a,{className:t.messageBar,elevation:4},r.a.createElement(Vt.a,{className:t.input,onFocus:this.onFocusMessage,placeholder:"Message...",value:this.state.content,onChange:function(t){e.onTyping(t)},onKeyUp:this.handleKeyPressMessage}),r.a.createElement(Wt.a,{className:t.divider}),r.a.createElement(Ht.a,{color:"secondary",onClick:function(t){e.handleClickSend(t)}},"Send",r.a.createElement($t.a,null))))))))}}]),a}(r.a.Component),Sa=Object(m.b)((function(e){return{chatReducer:e.chatReducer,userReducer:e.userReducer}}),(function(e){return{findUser:function(t){return e(ga(t))},findUser_fail_handle:function(){return e({type:"FINDUSER_FAIL_HANDLE"})},getListFriend:function(){return e(ua())},getListMessage:function(t){return e(ma(t))},push_message:function(t){return e(function(e){return{type:"PUSH_MESSAGE",arr:e}}(t))},getNewFriend:function(){return e((function(e){e({type:"CALLING_API"}),sa().then((function(t){e(pa(t))})).catch((function(t){e(fa(t))}))}))},log_out:function(){return e({type:"LOG_OUT"})}}}))(Object(xt.a)((function(e){return{messageBar:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},divider:{width:1,height:40,margin:4},divTop:{padding:e.spacing.unit,display:"flex",flexDirection:"row",borderBottom:"1px solid #e0e0e0"},divBottom:{height:"calc(100vh - "+15*e.spacing.unit+"px)",padding:2*e.spacing.unit},searchDiv:{background:"#e0e0e0",borderRadius:6,color:"#212121",display:"flex",flexDirection:"row"},iconButton:{background:"#bdbdbd"},input:{marginLeft:8,flex:1},inputSearchRoot:{width:"100%"},inputSearch:{paddingLeft:e.spacing.unit},cardMessage:{borderRadius:"6px",height:"calc(100vh - "+13*e.spacing.unit+"px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},cardListFriend:{marginTop:2*e.spacing.unit,borderRadius:"6px",height:"calc(100vh - "+21*e.spacing.unit+"px)",overflow:"auto"},findUser:{overflow:"auto",height:"calc(100vh - "+21*e.spacing.unit+"px)"},typing:{display:"none"}}}))(Oa)),wa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Sa,null),history:this.props.history})}}]),a}(n.Component),ja=a(110),Da=a(798),Ia=a(816),Ta=a(815),_a=a(35),Aa=a.n(_a),Fa=a(49);function Ra(){return function(e){new Promise((function(e,t){return C.a.get(S.a.api_url+"/users/getHotUsers",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOT_USER_SUCCESSFUL",hotUserData:e}}(t))})).catch((function(e){console.log("Error at get getHotUsersAPI: "+e)}))}}function xa(){return function(e){e({type:"GET_HOME_DATA_START"}),new Promise((function(e,t){return C.a.get(S.a.api_url+"/users/getHomeSongs",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_HOME_DATA_SUCCESSFUL",homeData:e}}(t))})).catch((function(t){e(function(e){return{type:"GET_HOME_DATA_FAIL",err:e}}(t))}))}}function Pa(e){return{type:"SET_MUSIC_SELECTED",musicSelected:e}}function Ua(){return function(e){e({type:"RANKING_START"}),new Promise((function(e,t){return C.a.get(S.a.api_url+"/users/getRanking",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e({type:"SET_RANKING",rankingdata:t})})).catch((function(t){e(function(e){return{type:"SET_ERR",err:e}}(t))}))}}a(686);var Na=h.a.Text,La=h.a.Title,Ma=[{},{},{},{},{},{},{},{},{},{}],Va=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getRanking()}},{key:"render",value:function(){var e=this,t=this.props.appReducer.rankingdata;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(La,{level:4,type:"secondary"}," THE MOST DOWNLOADED DATASET "),null===t?r.a.createElement(Ia.a,{itemLayout:"horizontal",dataSource:Ma,renderItem:function(e){return r.a.createElement(Ia.a.Item,null,r.a.createElement(Ta.a,{loading:!0,active:!0,paragraph:{rows:1},avatar:{shape:"square",size:70}}))}}):r.a.createElement(Ia.a,{itemLayout:"horizontal",dataSource:t.mostNew,renderItem:function(t,a){return t?r.a.createElement(Ia.a.Item,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(La,{level:4,style:{alignSelf:"center",marginRight:10},type:0===a?"danger":1===a?"warning":2===a?"":"secondary"},a+1)),r.a.createElement(Je.a,{title:t.view+" view",placement:"leftTop"},r.a.createElement(Ia.a.Item.Meta,{avatar:r.a.createElement(ft.a,{shape:"square",size:70,src:window.$linkIPFS+t.image,onClick:function(){return e.props.history.push("/data/".concat(t._id))}}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){e.props.set_music_selected(t)}},t.name),description:r.a.createElement("div",null,t.artist,r.a.createElement("br",null),r.a.createElement("div",{className:"row-space-between"},r.a.createElement(Je.a,{title:t.userUpload.nickName,placement:"leftTop"},r.a.createElement(ft.a,{shape:"circle",size:"small",src:window.$linkIPFS+t.userUpload.avatar,onClick:function(){return e.props.history.push("/page/".concat(t.userUpload.addressEthereum))}})),r.a.createElement(Na,{style:{alignSelf:"center"},code:!0},t.downloadWeekRanking," Downloads")))}))):null}}))}}]),a}(r.a.Component),Ha=Object(d.g)(Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{set_music_selected:function(t){return e(Pa(t))},getRanking:function(){return e(Ua())}}}))(Va)),Ba=a(817),za=h.a.Text,Ga=Ba.a.Meta,qa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement(Je.a,{style:{display:"flex"},title:t.view+" view page",placement:"top",onClick:function(){return e.props.history.push("/page/".concat(t.addressEthereum))}},r.a.createElement(Ba.a,{hoverable:!0,size:"small",cover:r.a.createElement(ft.a,{alt:"music background",size:this.props.songPage?160:170,src:window.$linkIPFS+t.avatar}),bodyStyle:{padding:"10px",textAlign:"center"},bordered:!1,style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(Ga,{title:r.a.createElement(za,{style:{fontSize:15},type:"warning"},t.nickName),description:r.a.createElement(za,{style:{fontSize:14},type:"secondary"},t.follow," Follows")})))}}]),a}(r.a.Component),$a=Object(d.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(Pa(t))}}}))(qa)),Wa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ta.a,{active:!0,title:!1,avatar:{shape:"circle",size:180},paragraph:!1}),r.a.createElement(Ta.a,{active:!0,title:{width:130},paragraph:{rows:1,width:180}}))}}]),a}(r.a.Component),Ka=h.a.Text,Ya=Ba.a.Meta,Ja=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.songInfo,n=t.contract;return r.a.createElement(Je.a,{title:a.view+" view song",placement:"top"},n?r.a.createElement(Ba.a,{hoverable:!0,size:"small",cover:r.a.createElement("img",{onClick:function(){return e.props.history.push("/mainContract/".concat(n._id))},className:"img-background-music",alt:"music background",src:window.$linkIPFS+n.songID.image}),bodyStyle:{padding:"10px"},bordered:!1},r.a.createElement(Ya,{title:r.a.createElement(Je.a,{style:{display:"flex",flexDirection:"column"},title:n.songID.name,placement:"top",onClick:function(){return e.props.history.push("/data/".concat(n.songID._id))}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:13,height:20,width:"100%"},type:"link"},n.songID.name),r.a.createElement(Ka,{style:{fontSize:13},type:"secondary"},n.nameContractForm))),description:n.signerID?r.a.createElement(Je.a,{style:{display:"flex"},title:n.signerID.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(n.signerID.addressEthereum))}},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+n.signerID.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"70%",overflow:"hiden"},type:"link"},r.a.createElement(Ka,{type:"warning",style:{alignSelf:"center"}},n.signerID.nickName))):n.ownerID?r.a.createElement(Je.a,{style:{display:"flex"},title:n.ownerID.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(n.ownerID.addressEthereum))}},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+n.ownerID.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"70%",overflow:"hiden"},type:"link"},r.a.createElement(Ka,{type:"warning",style:{alignSelf:"center"}},n.ownerID.nickName))):null})):r.a.createElement(Ba.a,{hoverable:!0,size:"small",cover:r.a.createElement("img",{onClick:function(){return e.props.history.push("/data/".concat(a._id))},className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.image}),bodyStyle:{padding:"10px"},bordered:!1},r.a.createElement(Ya,{title:r.a.createElement(Je.a,{style:{display:"flex",flexDirection:"column"},title:a.name,placement:"top",onClick:function(){return e.props.history.push("/data/".concat(a._id))}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:13,height:20,width:"100%"},type:"link"},a.name),r.a.createElement(Ka,{style:{fontSize:13},type:"secondary"},a.artist))),description:r.a.createElement(Je.a,{style:{display:"flex"},title:a.userUpload.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(a.userUpload.addressEthereum))}},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+a.userUpload.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"70%",overflow:"hiden"},type:"link"},r.a.createElement(Ka,{type:"warning",style:{alignSelf:"center"}},a.userUpload.nickName)))})))}}]),a}(r.a.Component),Qa=Object(d.g)(Object(m.b)((function(e){return{}}),(function(e){return{set_music_selected:function(t){return e(Pa(t))}}}))(Ja)),Za=(a(687),a(820)),Xa=a(72),en=a.n(Xa),tn=(a(120),h.a.Text),an=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,idFileMongo:""},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(t){Z("Hunting data ..."),pe({idHuntFile:e.props.infor.idhuntFile,idFileHuntMongo:e.state.idFileMongo}).then((function(e){ee(e)})).catch((function(e){X("hunt data ERROR")}))},e.handleApprove=function(){Z("Hunting data ..."),de({idHuntFile:e.props.infor.idhuntFile}).then((function(e){ee(e)})).catch((function(e){X("approve hunt data ERROR")}))},e.handleCancelHunt=function(){Z("Canceling hunt data ..."),ge({idHuntFile:e.props.infor.idhuntFile}).then((function(e){ee(e)})).catch((function(e){X("Cancel hunt data ERROR")}))},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.infor;return r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Monitize if you can",placement:"leftTop"},t.isCanceled?r.a.createElement(v.a,{disabled:!0,ghost:!0,type:"danger",icon:"edit",onClick:this.showModal},r.a.createElement(tn,{style:{color:"#910000"}},"Canceled")):this.props.userReducer.user.addressEthereum===t.peopleInNeed?t.isHunted?r.a.createElement(Je.a,{style:{display:"flex"},title:t.hunter.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(t.hunter.addressEthereum))}},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+t.hunter.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"300",overflow:"hiden"},type:"link"},r.a.createElement(tn,{type:"warning",style:{alignSelf:"center"}},t.hunter.nickName))):null===t.hunter?r.a.createElement(v.a,{ghost:!0,type:"danger",icon:"edit",onClick:function(){return e.handleCancelHunt()}},r.a.createElement(tn,{style:{color:"#910000"}},"Cancel")):r.a.createElement(Je.a,{style:{display:"flex"},title:t.hunter.nickName,placement:"bottom"},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+t.huntedFile.image,onClick:function(){return e.props.history.push("/data/".concat(t.huntedFile._id))}}),r.a.createElement(v.a,{ghost:!0,type:"danger",icon:"edit",onClick:function(){return e.handleApprove()}},r.a.createElement(tn,null,"Approve Hunting"))):t.isHunted?r.a.createElement(Je.a,{style:{display:"flex"},title:t.hunter.nickName,placement:"bottom",onClick:function(){return e.props.history.push("/page/".concat(t.hunter.addressEthereum))}},r.a.createElement(ft.a,{shape:"circle",style:{marginRight:5},size:"small",src:window.$linkIPFS+t.hunter.avatar}),r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20,width:"300",overflow:"hiden"},type:"link"},r.a.createElement(tn,{type:"warning",style:{alignSelf:"center"}},t.hunter.nickName))):r.a.createElement(v.a,{ghost:!0,type:"danger",icon:"edit",onClick:this.showModal},r.a.createElement(tn,null,"Hunt Data"))),r.a.createElement(f.a,{title:r.a.createElement("h1",{style:{color:"#1890FF"}},"Hunt Data To Monitize"),visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:{type:"danger"},okText:"Hunting"},r.a.createElement(Za.a,{title:"Information",column:1,bordered:!0,layout:"horizontal"},r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Renter")},t.user.nickName),r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Description")},t.IPFS.description),r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Hunted File")},r.a.createElement(E.a,{placeholder:"Your File Hash",onChange:function(t){e.setState({idFileMongo:t.target.value})}})))))}}]),a}(r.a.Component),nn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(an),rn=a(811),ln=Ba.a.Meta,on=(rn.a.Countdown,h.a.Text),cn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.action;return r.a.createElement(Ba.a,{hoverable:!0,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",border:"2px solid green"},bodyStyle:{padding:"15px",width:"100%",border:"2px solid green"},actions:n?[r.a.createElement(nn,{history:this.props.history,infor:a})]:null},r.a.createElement(v.a,{style:{textAlign:"center",padding:0,fontSize:"large",height:20,width:"100%"},type:"link",onClick:function(){return e.props.history.push("/home")}},a.IPFS.name),r.a.createElement(Za.a,{title:"Information",column:1,bordered:!0,layout:"horizontal"},r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Row")},a.IPFS.rowAmount),r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Reward")},a.IPFS.reward),r.a.createElement(Za.a.Item,{label:r.a.createElement("b",{style:{color:"#125358"}},"Field")},a.IPFS.field)),r.a.createElement(ln,{style:{marginTop:10,alignContent:"center",paddingLeft:40},avatar:r.a.createElement(ft.a,{size:30,src:window.$linkIPFS+a.user.avatar,alt:a.user.nickName}),title:r.a.createElement(v.a,{style:{textAlign:"center",fontSize:13,padding:0},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.user.addressEthereum))}},r.a.createElement(on,{style:{fontSize:13},type:"warning"},a.user.nickName)),description:r.a.createElement(on,{style:{fontSize:10}}," ",te(a.user.follow)," Follow ")}))}}]),a}(r.a.Component),sn=Object(d.g)(cn),un=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ta.a,{active:!0,title:!1,avatar:{shape:"square",size:160},paragraph:!1}),r.a.createElement("br",null),r.a.createElement(Ta.a,{active:!0,title:!1,avatar:{size:"small"},paragraph:{rows:1,width:120}}))}}]),a}(r.a.Component),mn=h.a.Title,pn=(Object(ja.a)({addressEthereum:"0x4b771cDB9702eDa44311CE20984Dc4930d16674C",avatar:"Qmdq7uiGfeMJYUGA2ygFKHQac5sRrBFwJyFowePVd7t8pc",nickName:"Divergent",_id:"5dd9f49c61619708f47e070b",view:0},"_id","5ed93e1d34225d437265b648"),Object(ja.a)({addressEthereum:"0x4b771cDB9702eDa44311CE20984Dc4930d16674C",avatar:"Qmdq7uiGfeMJYUGA2ygFKHQac5sRrBFwJyFowePVd7t8pc",nickName:"Pisces",_id:"5dd9f49c61619708f47e070b",view:0},"_id","5ed93e1d34225d437265b648"),Object(ja.a)({addressEthereum:"0x4b771cDB9702eDa44311CE20984Dc4930d16674C",avatar:"Qmdq7uiGfeMJYUGA2ygFKHQac5sRrBFwJyFowePVd7t8pc",nickName:"Keyti \u0110\u1eb9p Trai",_id:"5dd9f49c61619708f47e070b",view:0},"_id","5ed93e1d34225d437265b648"),Object(ja.a)({addressEthereum:"0x4b771cDB9702eDa44311CE20984Dc4930d16674C",avatar:"Qmdq7uiGfeMJYUGA2ygFKHQac5sRrBFwJyFowePVd7t8pc",nickName:"Jean",_id:"5dd9f49c61619708f47e070b",view:0},"_id","5ed93e1d34225d437265b648"),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getHomeSongs(),this.props.getHotUsers(),this.props.getFindDataList()}},{key:"render",value:function(){var e=this,t=this.props.appReducer;return r.a.createElement("div",null,r.a.createElement(Dt.a,{gutter:[8,0]},r.a.createElement(Da.a,{autoplay:!0},r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Dataset",src:window.$linkIPFS+"QmTX8PxaY9KPJfddacFS8Fo8zt8bvDuVsJCVsb2yVCVx4o"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Dataset",src:window.$linkIPFS+"QmSaMmyLr4ckwS4uh8Y55RjjoetkVJKceRW5k68qqwywrL"})),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"400px",objectFit:"cover"},alt:"Dataset",src:window.$linkIPFS+"QmVNViTuQAcE7wWGtwctRi8AtTvVgfLGrAD3B8YsB53ttP"})))),r.a.createElement(Dt.a,{gutter:[24,0],style:{marginTop:20}},r.a.createElement(It.a,{span:17},r.a.createElement(Dt.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(It.a,{span:10},r.a.createElement(mn,{level:4,type:"secondary"},"THE MOST HEAD DATASET")),r.a.createElement(It.a,{span:2}),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6,justify:"end"},r.a.createElement(y.a,{type:"double-right"}))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.homeData?t.homeData.mostView.map((function(e){return r.a.createElement(It.a,{key:e._id,span:6,style:{width:190,marginTop:20}},r.a.createElement(Qa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:5,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:5,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:5,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:5,style:{marginTop:20}},r.a.createElement(un,null)))),r.a.createElement(Dt.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(It.a,{span:6},r.a.createElement(mn,{level:4,type:"secondary"},"DATASET TO HUNT")),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6,justify:"end"},r.a.createElement(y.a,{type:"double-right",onClick:function(){return e.props.history.push("/martketplaceFindData")}}))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.huntData?t.huntData.map((function(e){return r.a.createElement(It.a,{key:e._id,span:8,style:{marginTop:20}},r.a.createElement(sn,{record:e,action:!0}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:7,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:7,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:7,style:{marginTop:20}},r.a.createElement(un,null)))),r.a.createElement(Dt.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(It.a,{span:6},r.a.createElement(mn,{level:4,type:"secondary"},"NEW UPLOAD")),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6,justify:"end"},r.a.createElement(y.a,{type:"double-right"}))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.homeData?t.homeData.mostNew.map((function(e){return r.a.createElement(It.a,{key:e._id,span:6,style:{width:190,marginTop:20}},r.a.createElement(Qa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(un,null)))),r.a.createElement(Dt.a,{gutter:[8,0],style:{marginTop:20}},r.a.createElement(It.a,{span:6},r.a.createElement(mn,{level:4,type:"secondary"},"HOT PROVIDER")),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6}),r.a.createElement(It.a,{span:6,justify:"end"},r.a.createElement(y.a,{type:"double-right"}))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},t.hotUserData?t.hotUserData.map((function(e){return r.a.createElement(It.a,{key:e._id,span:6,style:{width:180,marginTop:20}},r.a.createElement($a,{user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(Wa,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(Wa,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(Wa,null)),r.a.createElement(It.a,{span:6,style:{marginTop:20}},r.a.createElement(Wa,null))))),r.a.createElement(It.a,{span:7},r.a.createElement(Ha,null))))}}]),a}(n.Component)),dn=Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{getHomeSongs:function(){return e(xa())},getHotUsers:function(){return e(Ra())},getFindDataList:function(){return e((function(e){Ce().then(function(){var t=Object(Fa.a)(Aa.a.mark((function t(a){var n;return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a.map((function(e){return fetch("https://ipfs.jumu.tk/".concat(e.characteristicHash)).then((function(e){return e.json()})).then((function(t){return e.IPFS=t,e}))})));case 2:n=a.sort((function(){return.5-Math.random()})).slice(0,3),e({type:"GET_HOT_HUNT_SUCCESSFUL",hotHuntData:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log("Error at get getHuntUsersAPI: "+e)}))}))}}}))(pn),hn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(dn,{history:this.props.history}),history:this.props.history})}}]),a}(n.Component),fn=(a(717),h.a.Text,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"view"},r.a.createElement("img",{src:vt.a,alt:"Justice music",style:{width:"70px",height:"70px"}}),r.a.createElement("a",{class:"plane main",href:"login"},r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"}),r.a.createElement("div",{class:"circle"})))}}]),a}(n.Component)),gn=a(265),En=(a(718),a(399));function yn(e){return function(t){t(wn(!0)),function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/ethereums/getISOAddress?address="+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_ISO_DATA",isoData:e})})).then((function(){t(wn(!1))})).catch((function(e){t(wn(!1)),t(Dn(e))}))}}function bn(e){return function(t){t(Sn(!0)),le(e).then((function(e){t({type:"SET_USER_DOWNLOAD_DATA",downloadData:e})})).then((function(){t(Sn(!1))})).catch((function(e){t(Sn(!1)),t(Dn(e))}))}}function vn(e){return function(t){t(On(!0)),function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/ethereums/getUserUpload/".concat(e),{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t({type:"SET_USER_UPLOAD_DATA",uploadData:e})})).then((function(){t(On(!1))})).catch((function(e){t(On(!1)),t(Dn(e))}))}}function kn(e){return function(t){t(jn(!0)),function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/actions/userPage?userName="+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){return t({type:"SET_USER_INFO_DATA",userInfoData:e}),e})).then((function(e){t(jn(!1)),t(vn(e.addressEthereum)),t(bn(e.addressEthereum)),t(yn(e.addressEthereum))})).catch((function(e){t(jn(!1)),t({type:"SET_ERROR_GET_USER_PAGE",errorPage:e})}))}}function Cn(e){return{type:"SET_IS_FOLLOW_PAGE",setFollow:e}}function On(e){return{type:"SET_LOADING_UPLOAD",loadingUpload:e}}function Sn(e){return{type:"SET_LOADING_DOWNLOAD",loadingDownload:e}}function wn(e){return{type:"SET_LOADING_ISO",loadingIsoData:e}}function jn(e){return{type:"SET_LOADING_USER_INFO",loadingUserData:e}}function Dn(e){return{type:"SET_ERROR_GET_USER_UPLOAD",errorUpload:e}}var In=h.a.Text,Tn=g.a.create({name:"form_in_modal"})(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,i=e.form.getFieldDecorator;return r.a.createElement(f.a,{visible:t,title:"Find Labeler",okText:"Find",onCancel:a,onOk:n},r.a.createElement(g.a,{layout:"horizontal"},r.a.createElement(g.a.Item,{label:"Total wage"},i("wage",{rules:[{required:!0,message:"Please input fee of this assignment!"}],initialValue:5e3})(r.a.createElement(gt.a,{min:1,max:5e4,step:1,style:{width:150},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace("%","").replace(/\$\s?|(,*)/g,"")}}))),r.a.createElement(g.a.Item,{label:"Part Amount"},i("partAmount",{rules:[{required:!0,message:"Please input the part that you want divide!"}],initialValue:5e3})(r.a.createElement(gt.a,{min:1,max:1e3,step:1,style:{width:150},formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace("%","").replace(/\$\s?|(,*)/g,"")}})))))}}]),a}(r.a.Component)),_n=g.a.create({name:"form_in_modal"})(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tempArray:[],hashtoView:[]},e.componentDidMount=Object(Fa.a)(Aa.a.mark((function t(){var a,n;return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=[],t.next=4,e.props.fileArray.map((function(t){""!=t.subHashLabeled&&a.push(t),e.setState({tempArray:a})}));case 4:return t.next=6,Promise.all(e.state.tempArray.map((function(e){var t=[];return fetch("https://ipfs.jumu.tk/".concat(e.subHashLabeled)).then((function(e){return e.json()})).then(function(){var a=Object(Fa.a)(Aa.a.mark((function a(r){var i,l,o;return Aa.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(i=1,r.length>15&&(i=Math.floor(r.length/15)),l=0;l<i;l++)t.push(r[Math.floor(Math.random()*r.length)]);return o={object:t},a.abrupt("return",me(o).then((function(t){return e.tempHash=t,n.push(e),t})));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}))).then((function(e){})).catch((function(e){console.log(e)}));case 6:e.setState({hashtoView:n});case 7:case"end":return t.stop()}}),t)}))),e.handleApproveFile=function(t,a){he({idUnlabelFile:t,idPart:a}).then((function(t){var n=e.state.tempArray;n.map((function(e){e.idPart==a&&(e.isAccept=!0)})),e.setState({tempArray:n})}))},e.handleDeleteFile=function(t,a){Z("Deleting ..."),fe({idUnlabelFile:t,idPart:a}).then((function(t){ee(t);var n=e.state.tempArray;n.map((function(e){e.idPart==a&&n.splice(n.indexOf(e),1)})),e.setState({tempArray:n})})).catch((function(e){X("Deleting labeled file went wrong")}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,i=t.onCreate,l=(t.form.getFieldDecorator,[{title:"Sub Hash Labeled",key:"subHashLabeled",ellipsis:!0,render:function(e){return e.isAccept?r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){window.open("https://ipfs.jumu.tk/".concat(e.subHashLabeled),"_blank")}},e.subHashLabeled):r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){window.open("https://ipfs.jumu.tk/".concat(e.tempHash),"_blank")}},e.tempHash)}},{title:"Action",key:"action",ellipsis:!0,render:function(t){return r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement(v.a,{disabled:t.isAccept,style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleApproveFile(e.props.idFile,t.idPart)}},"Approve"),r.a.createElement(dt.a,{type:"vertical"}),r.a.createElement(v.a,{disabled:t.isAccept,style:{textAlign:"left",padding:0,fontSize:14},onClick:function(){return e.handleDeleteFile(e.props.idFile,t.idPart)}},"Delete")))}}]);return r.a.createElement(f.a,{visible:a,title:"Approve labeled file",okText:"Finish",onCancel:n,onOk:i},r.a.createElement(ot.a,{columns:l,dataSource:this.state.tempArray}))}}]),a}(r.a.Component)),An=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e.handleCreate=function(){Z("Posting a request to find labeler ...");var t=e.formRef.props.form;t.validateFields((function(a,n){if(a)return lt.a.error("Please fill out a wage");Ee({idFile:e.props.idFile,partAmount:n.partAmount,wage:n.wage}).then((function(e){ee(e),t.resetFields()})).catch((function(e){X("Error find labeler")}))}))},e.handleApprove=function(){e.setState({loading:!1,visible:!1})},e.saveFormRef=function(t){e.formRef=t},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.circle?r.a.createElement(Je.a,{title:"Find labeler for this dataset",placement:"top"},r.a.createElement(v.a,{disabled:this.props.disabled,shape:"circle",type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal})):this.props.isCompleteLabel?r.a.createElement(Je.a,{title:"This data is labeled",placement:"leftTop"},r.a.createElement(v.a,{disabled:!0,type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(In,null,"Find Labler"))):this.props.disabled?r.a.createElement(Je.a,{title:"Only owner",placement:"leftTop"},r.a.createElement(v.a,{disabled:!0,type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(In,null,"Find Labler"))):0===this.props.unLabelFile.length?r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Find labeler this dataset",placement:"leftTop"},r.a.createElement(v.a,{type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(In,null,"Find Labler"))),r.a.createElement(Tn,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate})):r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Find labeler this dataset",placement:"leftTop"},r.a.createElement(v.a,{type:"danger",ghost:!0,icon:"usergroup-add",onClick:this.showModal},r.a.createElement(In,null,"Approve"))),r.a.createElement(_n,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleApprove,fileArray:this.props.unLabelFile[0].arrPartLabel,idFile:this.props.idFile})))}}]),a}(r.a.Component),Fn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getISOAddress:function(t){return e(yn(t))}}}))(An),Rn=h.a.Text,xn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleBuySong=function(t){Z("Downloading ..."),ce({_idFile:t}).then((function(t){ee(t),S.a.provider.waitForTransaction(t).then((function(){e.props.getUserDownload(e.props.userReducer.user.addressEthereum)}))})).catch((function(e){X(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.circle?r.a.createElement(Je.a,{title:"Buy this dataset",placement:"top"},r.a.createElement(v.a,{shape:"circle",type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}})):r.a.createElement(Je.a,{title:"Buy this dataset",placement:"leftTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"download",onClick:function(){e.handleBuySong(e.props.idFile)}},r.a.createElement(Rn,null,"Buy"))))}}]),a}(r.a.Component),Pn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(bn(t))}}}))(xn),Un=h.a.Text,Nn=h.a.Title,Ln=Ba.a.Meta,Mn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleBuySong=function(t){Z("Downloading ..."),ce({_idFile:t}).then((function(t){ee(t),S.a.provider.waitForTransaction(t).then((function(){e.props.getUserDownload(e.props.userReducer.user.addressEthereum)}))})).catch((function(e){X(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=[{title:"songInfo",dataIndex:"music",render:function(t){return r.a.createElement(Ln,{avatar:r.a.createElement(ft.a,{shape:"square",size:50,src:window.$linkIPFS+t.image,alt:"Dataset photo",onClick:function(){return e.props.history.push("/data/".concat(t._id))}}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14,height:20},type:"link",onClick:function(){return e.props.history.push("/data/".concat(t._id))}},t.name),description:r.a.createElement(Un,{type:"secondary"},t.artist)})}},{title:"Tags",key:"tags",render:function(){return r.a.createElement("span",null,r.a.createElement(En.a,{color:"volcano"},"HOT"))}},{title:"view",dataIndex:"music.view",render:function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{type:"eye",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(Un,{type:"secondary"},te(e)))}},{title:"cost",render:function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{type:"pay-circle",style:{marginRight:"10px",color:"#1da1f2",fontSize:17}}),r.a.createElement(Un,{type:"secondary"},te(e.price)," DIV"))}},{title:"action",key:"action",render:function(t){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Fn,{disabled:!(!t.IsISO&&e.props.userReducer.user.id===e.props.pageReducer.userInfoData._id),idFile:t.idFile,circle:!0}),r.a.createElement(dt.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(Je.a,{title:"Get a contract",placement:"top"},r.a.createElement(v.a,{type:"primary",shape:"circle",icon:"solution",ghost:!0,onClick:function(){return e.props.history.push("".concat(t.music.userUpload===e.props.userReducer.user.id?"/contractFormManager":"/tempContract/".concat(t.music._id)))}})),r.a.createElement(dt.a,{type:"vertical",style:{height:"30px"}}),r.a.createElement(Pn,{idFile:t.idFile,circle:!0}))}}];return r.a.createElement(ot.a,{size:"middle",showHeader:!1,title:function(){return r.a.createElement(Nn,{level:4,style:{color:"#2daaed"}},e.props.tableUpload?'B\u1ed9 d\u1eef li\u1ec7u c\u1ee7a "'.concat(e.props.pageName,'"'):'B\u1ed9 d\u1eef li\u1ec7u m\xe0 "'.concat(e.props.pageName,'" \u0111\xe3 mua'))},columns:t,rowKey:function(e){return e.idFile},dataSource:this.props.tableUpload?this.props.pageReducer.uploadData:this.props.pageReducer.downloadData,loading:this.props.tableUpload?this.props.pageReducer.loadingUpload:this.props.pageReducer.loadingDownload})}}]),a}(r.a.Component),Vn=Object(d.g)(Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer}}),(function(e){return{getUserDownload:function(t){return e(bn(t))},set_music_selected:function(t){return e(Pa(t))}}}))(Mn)),Hn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={findDataList:[],loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Ce().then(function(){var t=Object(Fa.a)(Aa.a.mark((function t(a){var n;return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,Promise.all(a.map((function(t){return fetch("https://ipfs.jumu.tk/".concat(t.characteristicHash)).then((function(e){return e.json()})).then((function(a){return t.IPFS=a,e.props.isPage&&e.props.pageReducer.userInfoData.addressEthereum===t.user.addressEthereum&&n.push(t),t}))})));case 3:if(!e.props.isPage){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){e.setState({findDataList:t,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(Ze,null):r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.findDataList.map((function(t){return r.a.createElement(It.a,{key:t.idFile,span:e.props.isPage?8:6},r.a.createElement(sn,{record:t,action:!0}))}))))}}]),a}(r.a.Component),Bn=Object(m.b)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{}}))(Hn),zn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{status:"404",title:"404",subTitle:this.props.subTitle,extra:r.a.createElement(v.a,{type:"primary",onClick:function(){return e.props.history.push("/home")}},"Back Home")})}}]),a}(r.a.Component),Gn=a(799),qn=g.a.create({name:"form_in_modal"})(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={USD:0,costUSD:23e3},e.resetUSD=function(){e.setState({USD:0})},e.normFileMusic=function(e){return Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)},e.normFileImage=function(e){return Array.isArray(e)?e:(2===e.fileList.length&&(e.fileList=e.fileList.slice(-1)),e&&e.fileList)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,i=t.onCreate,l=t.form.getFieldDecorator,o=Ke.a.Option;return r.a.createElement(f.a,{visible:a,title:"Upload dataset",okText:"Submit",onCancel:n,onOk:i},r.a.createElement(g.a,{layout:"vertical"},r.a.createElement(g.a.Item,{label:"Dataset's name"},l("SongName",{rules:[{required:!0,message:"Please input the name of this dataset!"}]})(r.a.createElement(E.a,{placeholder:"Please select dataset's name"}))),r.a.createElement(g.a.Item,{label:"Provider's name"},l("ArtistsName",{rules:[{required:!0,message:"Please input provider's name!"}]})(r.a.createElement(E.a,{placeholder:"Please select provider's name"}))),r.a.createElement(g.a.Item,{label:"Description"},l("Description",{rules:[{required:!0,message:"Please input some description of this dataset!"}]})(r.a.createElement(E.a,{placeholder:"Please input some description of this dataset!"}))),r.a.createElement(g.a.Item,{label:"Tags"},l("Tags",{rules:[{message:"Please select dataset's tag ",type:"array"}]})(r.a.createElement(Ke.a,{mode:"multiple",placeholder:"Please select dataset's tag"},r.a.createElement(o,{value:"personaldata"},"Personal Data"),r.a.createElement(o,{value:"sport"},"Sport"),r.a.createElement(o,{value:"medical"},"Medical"),r.a.createElement(o,{value:"realestate"},"Real-Estate"),r.a.createElement(o,{value:"Hospitality"},"Hospitality"),r.a.createElement(o,{value:"Economy"},"Economy"),r.a.createElement(o,{value:"Weather"},"Weather")))),r.a.createElement(g.a.Item,{label:"Price DIV"},l("Price",{rules:[{required:!0,message:"Please input cost of this Dataset!"}],initialValue:0,onChange:function(t){e.setState({USD:t/e.state.costUSD})}})(r.a.createElement(gt.a,{min:0,max:1e10})),r.a.createElement("span",{className:"ant-form-text"}," DIV"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.USD," USD")),r.a.createElement(g.a.Item,{label:"Contract permission"},l("ContractPermission",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(Gn.a,null))),r.a.createElement(g.a.Item,{label:"Upload Image"},l("Image",{valuePropName:"fileList",getValueFromEvent:this.normFileImage})(r.a.createElement(it.a,{name:"file",action:S.a.api_url+"/users/upload",listType:"picture"},r.a.createElement(v.a,null,r.a.createElement(y.a,{type:"upload"})," Click to upload image")))),r.a.createElement(g.a.Item,{label:"Upload Dataset"},l("Music",{valuePropName:"fileList",getValueFromEvent:this.normFileMusic,rules:[{required:!0}]})(r.a.createElement(it.a.Dragger,{action:S.a.api_url+"/users/upload"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(y.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload dataset"))))))}}]),a}(r.a.Component)),$n=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e.handleCreate=function(){var t=e.formRef.props.form;t.validateFields((function(a,n){return a?lt.a.error("please fill out all fields"):"uploading"==n.Music[0].status||"uploading"==n.Image[0].status?f.a.error({title:"Please waiting for dataset or image upload!"}):(t.resetFields(),e.child.resetUSD(),e.setState({visible:!1}),void e.openUploadNotification(n))}))},e.saveFormRef=function(t){e.formRef=t},e.openUploadNotification=function(t){Z("Uploading ..."),oe({ether:{hash:t.Music[0].response.result,price:t.Price},server:{description:t.Description,hash:t.Music[0].response.result,image:t.Image[0].response.result,name:t.SongName,artist:t.ArtistsName,tags:t.Tags,contractPermission:t.ContractPermission}}).then((function(t){ee(t),S.a.provider.waitForTransaction(t).then((function(){return e.props.getUserUpload(e.props.userReducer.user.addressEthereum),f.a.success({title:"Upload dataset success!"})}))})).catch((function(e){return X("Please check your balance and upload again!"),f.a.error({title:'Error: "Please check your balance and upload again!"'})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v.a,{type:"danger",onClick:this.showModal},"Upload"),r.a.createElement(qn,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,onRef:function(t){return e.child=t}}))}}]),a}(r.a.Component),Wn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{getUserUpload:function(t){return e(vn(t))}}}))($n);function Kn(){return function(e){new Promise((function(e,t){return C.a.get(S.a.api_url+"/actions/getRelatedUser",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e(function(e){return{type:"GET_RELATED_USER_SUCCESSFUL",relatedUserData:e}}(t))})).catch((function(e){console.log("Error at get relatedUserData: "+e)}))}}function Yn(e){return function(t){(function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/actions/getSongSameSinger/?idUserUpload=".concat(e.idUserUpload,"&exceptedSongID=").concat(e.exceptedSongID),{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))})(e).then((function(e){t(function(e){return{type:"GET_SONG_SAME_SINGER_SUCCESSFUL",songSameSingerData:e}}(e))})).catch((function(e){console.log("Error at get songSameSingerData: "+e)}))}}function Jn(e){return function(t){t(Qn(!0)),function(e){return new Promise((function(t,a){return C.a.get(S.a.api_url+"/actions/getSongByID?id="+e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){return a(e)}))}))}(e).then((function(e){t(function(e){return{type:"SET_SONG_DATA",songInfo:e}}(e)),t(Yn({idUserUpload:e.userUpload._id,exceptedSongID:e._id}))})).then((function(){t(Qn(!1))})).catch((function(e){t(Qn(!1)),t({type:"SET_ERROR_GET_SONG_DATA",error:e})}))}}function Qn(e){return{type:"SET_LOADING_SONG_DATA",isLoading:e}}var Zn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onHanleFollow=function(t){De({followedID:e.props.ownerSongID}).then((function(a){e.props.isPage?e.props.set_is_follow_page(t):e.props.set_is_follow_song(t)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.props.ownerSongID===this.props.userReducer.user.id?r.a.createElement(Wn,null):r.a.createElement(v.a,{type:"danger",onClick:function(){return e.onHanleFollow(!e.props.isFollowed)}},this.props.isFollowed?"Unfollow":"Follow")}}]),a}(r.a.Component),Xn=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{set_is_follow_song:function(t){return e(function(e){return{type:"SET_IS_FOLLOW_SONG",setFollow:e}}(t))},set_is_follow_page:function(t){return e(Cn(t))}}}))(Zn),er=h.a.Paragraph,tr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.link,n=e.content;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingBottom:5,marginBottom:15}},r.a.createElement(y.a,{type:t,style:{marginRight:10,fontSize:16,color:"#1da1f2"}}),r.a.createElement(er,{style:{marginBottom:0},ellipsis:!0},r.a.createElement("a",{href:a,style:{color:"#888888"}},n)))}}]),a}(r.a.Component),ar=gn.a.TabPane,nr=h.a.Title,rr=h.a.Text,ir=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.userName;t!==this.props.userName&&this.props.getUserPage(t)}},{key:"componentDidMount",value:function(){var e;this.props.getUserPage(this.props.userName),e={userName:this.props.userName},new Promise((function(t,a){return C.a.post(S.a.api_url+"/users/postViewUser",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))}))}},{key:"render",value:function(){if(this.props.songReducer.error)return r.a.createElement(zn,{history:this.props.history,subTitle:"Page not found or you are not valid user"});if(this.props.pageReducer.errorPage)return r.a.createElement(zn,{history:this.props.history,subTitle:"Page not found or you are not valid user"});if(!this.props.pageReducer.userInfoData)return r.a.createElement(Ze,null);var e=this.props.pageReducer.userInfoData,t=e.follow,a=e.phone,n=e.facebook,i=e.youtube,l=e.home,o=e.coverPhoto,c=e.avatar,s=e.nickName,u=e._id,m=e.isFollowed,p=r.a.createElement(Xn,{ownerSongID:u,isFollowed:m,isPage:!0});return r.a.createElement("div",null,r.a.createElement(Dt.a,null,r.a.createElement(It.a,{span:24},r.a.createElement("div",{style:{width:"100%",height:"300px",backgroundImage:"url('".concat(window.$linkIPFS).concat(o,"')"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"}}))),r.a.createElement(Dt.a,{style:{paddingTop:"15px"}},r.a.createElement(It.a,{span:6},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(ft.a,{style:{boxShadow:"0 0 60px 2px #4C70C6"},size:160,src:window.$linkIPFS+c,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(nr,{level:4},s),r.a.createElement(rr,{type:"secondary"},t," Follow"))),a?r.a.createElement(tr,{icon:"phone",link:"linkPhone",content:a}):null,i?r.a.createElement(tr,{icon:"youtube",link:"linkYoutube",content:i}):null,n?r.a.createElement(tr,{icon:"facebook",link:"linkFacebook",content:n}):null,l?r.a.createElement(tr,{icon:"home",link:"linkHome",content:l}):null),r.a.createElement(It.a,{span:18},r.a.createElement(gn.a,{tabBarExtraContent:p},r.a.createElement(ar,{tab:"Uploaded Dataset",key:"1"},r.a.createElement(Vn,{tableUpload:!0,pageName:s})),r.a.createElement(ar,{tab:"Bought Dataset",key:"3"},r.a.createElement(Vn,{pageName:s})),r.a.createElement(ar,{tab:"Data Request",key:"4"},r.a.createElement(Bn,{isPage:!0}))))))}}]),a}(n.Component),lr=Object(m.b)((function(e){return{pageReducer:e.pageReducer,userReducer:e.userReducer,songReducer:e.songReducer}}),(function(e){return{getUserPage:function(t){return e(kn(t))},set_is_follow_page:function(t){return e(Cn(t))}}}))(ir),or=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(lr,{userName:this.props.match.params.userName,history:this.props.history}),history:this.props.history})}}]),a}(n.Component),cr=(a(720),a(812)),sr=a(395),ur=a(390),mr=a.n(ur),pr=a(807);a(359);function dr(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=hr(t.getUTCSeconds());if(a)return"".concat(a,":").concat(hr(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function hr(e){return("0"+e).slice(-2)}var fr=a(391),gr=a.n(fr),Er=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={totalSeconds:0,loop:!0,playing:!0,playingIcon:"pause",loopIcon:"redo",loadingInfo:{},volume:.3},e.onHandleClickPlaying=function(){var t=e.state,a=t.playing,n=t.playingIcon;e.setState({playing:!a,playingIcon:"pause"===n?"caret-right":"pause"})},e.onHandleClickLoop=function(){var t=e.state,a=t.loop,n=t.loopIcon;e.setState({loop:!a,loopIcon:"redo"===n?"close":"redo"})},e.onChangeSeek=function(t){isNaN(t)||(e.setState({loadingInfo:Object(P.a)(Object(P.a)({},e.state.loadingInfo),{},{playedSeconds:t})}),e.player.seekTo(parseFloat(t)))},e.onChangeVolume=function(t){isNaN(t)||e.setState({volume:t/100})},e.Tooltip=function(e){return r.a.createElement(dr,{seconds:e})},e.ref=function(t){e.player=t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.totalSeconds,n=t.playing,i=t.loop,l=t.playingIcon,o=t.loopIcon,c=t.loadingInfo,s=t.volume,u=this.props,m=u.isDetail,p=u.imageHash,d=u.musicHash;return r.a.createElement("div",{className:m?"detailPlayer":"nowPlayer"},r.a.createElement(mr.a,{ref:this.ref,volume:s,loop:i,url:window.$linkIPFS+d,playing:n,width:"0",height:"0",onProgress:function(t){e.setState({loadingInfo:t})},onDuration:function(t){e.setState({totalSeconds:t})}}),r.a.createElement(v.a,{shape:"circle",size:"large",icon:"step-backward",className:"icon-formart"}),r.a.createElement(Je.a,{title:n?"Play":"Stop"},r.a.createElement(v.a,{shape:"circle",size:"large",icon:l,className:"icon-formart",onClick:function(){e.onHandleClickPlaying()}})),r.a.createElement(v.a,{shape:"circle",size:"large",icon:"step-forward",className:"icon-formart"}),r.a.createElement(Je.a,{title:i?"Loop":"No Loop"},r.a.createElement(v.a,{shape:"circle",size:"large",icon:o,className:"icon-formart",onClick:function(){e.onHandleClickLoop()}})),r.a.createElement(ft.a,{size:50,style:{marginLeft:20},src:window.$linkIPFS+p,alt:"Avatar photo"}),r.a.createElement(pr.a,{tipFormatter:this.Tooltip,min:0,max:a,onChange:this.onChangeSeek,value:"number"===typeof c.playedSeconds?c.playedSeconds:0,style:{width:"300px",marginLeft:10},step:1e-6}),r.a.createElement(dr,{seconds:c.playedSeconds?c.playedSeconds:0}),r.a.createElement(gr.a,null,"/"),r.a.createElement(dr,{seconds:a}),r.a.createElement(Et.a,{overlay:r.a.createElement("div",{style:{display:"inline-block",height:100}},r.a.createElement(pr.a,{onChange:this.onChangeVolume,vertical:!0,defaultValue:30})),placement:"topCenter"},r.a.createElement(v.a,{style:{marginLeft:10},shape:"circle",type:"default",icon:"bell"})))}}]),a}(n.Component),yr=Object(m.b)((function(e){return{appReducer:e.appReducer,userReducer:e.userReducer}}),(function(e){return{}}))(Er),br=h.a.Text,vr=g.a.create({name:"form_in_modal"})(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,i=t.onCreate,l=t.form.getFieldDecorator;return r.a.createElement(f.a,{visible:a,title:"Labeling",okText:"Submit",onCancel:n,onOk:i},r.a.createElement(g.a,{layout:"horizontal"},r.a.createElement(g.a.Item,{label:"Hash Labeled File"},l("hashFile",{rules:[{required:!0,message:"Please input a string!"}],initialValue:""})(r.a.createElement(E.a,{style:{width:150}}))),r.a.createElement(g.a.Item,null,r.a.createElement(Je.a,{title:"Get content for label assignment",placement:"leftTop"},r.a.createElement(v.a,{type:"primary",htmlType:"button",icon:"vertical-align-bottom",onClick:function(){window.open("https://ipfs.jumu.tk/".concat(e.props.subHash),"_blank")}},r.a.createElement(br,null,"Get hash"))))))}}]),a}(r.a.Component)),kr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(){e.setState({visible:!1})},e.handleCreate=function(){Z("Labeling file ...");var t=e.formRef.props.form;t.validateFields((function(a,n){if(a)return lt.a.error("Please fill your IPFS hash");be({idUnlabelFile:e.props.idFile,hashFile:n.hashFile}).then((function(a){ee(a),t.resetFields(),e.setState({visible:!1})})).catch((function(e){X("Error find labeler")}))}))},e.handleTakeLabeler=function(){Z("Taking labeler ..."),ve({idUnlabelFile:e.props.idFile}).then((function(e){ee(e)})).catch((function(e){X("Error find labeler")}))},e.saveFormRef=function(t){e.formRef=t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hasSlot,a=e.objLabeler;e.isMarket;return console.log("skskskksksksksk1"),console.log(a),r.a.createElement("div",null,null!==a?a.isAccept?r.a.createElement(Je.a,{title:"You has labeled this dataset",placement:"leftTop"},r.a.createElement(v.a,{disabled:!0,type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(br,null,"Labeled"))):r.a.createElement(Je.a,{title:"Label this dataset",placement:"leftTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(br,null,"Label"))):t?r.a.createElement(Je.a,{title:"sign this assignment",placement:"leftTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"bg-colors",onClick:this.handleTakeLabeler},r.a.createElement(br,null,"Take Labeler"))):r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Label this dataset",placement:"leftTop"},r.a.createElement(v.a,{disabled:!0,type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(br,null,"Label")))),r.a.createElement(vr,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,subHash:null!==a?a.subHash:""}))}}]),a}(r.a.Component),Cr=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(kr),Or=h.a.Paragraph,Sr=h.a.Text,wr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Or,{style:{padding:5,margin:5},ellipsis:!0},r.a.createElement(Sr,{strong:!0},this.props.title," : "),r.a.createElement(Sr,null,this.props.link?r.a.createElement("a",{href:this.props.link},this.props.content):r.a.createElement(Sr,{type:"secondary"}," ",this.props.content," ")))}}]),a}(r.a.Component),jr=h.a.Text,Dr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,text:""},e.handleChange=function(t){e.setState({text:t})},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(t){var a={idMongo:e.props.idMongo,description:e.state.text};e.setState({visible:!1,text:""}),Se(a).then((function(e){console.log(e)}))},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Edit description",placement:"leftTop"},r.a.createElement(v.a,{disabled:this.props.disabled,ghost:!0,type:"danger",icon:"edit",onClick:this.showModal},r.a.createElement(jr,null,"Edit description"))),r.a.createElement(f.a,{title:"Edit Description",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:{type:"danger"},okText:"Submit"},r.a.createElement(en.a,{theme:"snow",value:this.state.text,onChange:this.handleChange})))}}]),a}(r.a.Component),Ir=a(204);Ke.a.Option;function Tr(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}var _r=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]},e.handleCancel=function(){return e.setState({previewVisible:!1})},e.handlePreview=function(){var t=Object(Fa.a)(Aa.a.mark((function t(a){return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.url||a.preview){t.next=4;break}return t.next=3,Tr(a.originFileObj);case 3:a.preview=t.sent;case 4:e.setState({previewImage:a.url||a.preview,previewVisible:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.fileList;return e.setState({fileList:a})},e.handleSubmit=function(t){Z("Feedbacking ..."),t.preventDefault(),e.props.form.validateFields((function(t,a){t||ye({content:a.content,star:a.rate,idFile:e.props.idFile}).then((function(e){ee(e)})).catch((function(e){X("Feedbacking went wrong")}))}))},e.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,i=r.a.createElement("div",null,r.a.createElement(y.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),l=this.props.form.getFieldDecorator;return r.a.createElement(g.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onSubmit:this.handleSubmit}),r.a.createElement(g.a.Item,{label:"Rate"},l("rate",{initialValue:3.5})(r.a.createElement(cr.a,null))),r.a.createElement(g.a.Item,null,l("content",{})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,null,r.a.createElement(it.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=8?null:i),r.a.createElement(f.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a}))),r.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:6}},r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),a}(r.a.Component),Ar=g.a.create({name:"validate_other"})(_r),Fr=function(e){var t=e.type,a=e.text;return r.a.createElement("span",null,r.a.createElement(y.a,{type:t,style:{marginRight:8}}),a)},Rr=h.a.Title,xr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={listData:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ke(this.props.idFile).then(function(){var t=Object(Fa.a)(Aa.a.mark((function t(a){return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({listData:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement("div",null,0!==this.state.listData.length?r.a.createElement(Ia.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:3},dataSource:this.state.listData,footer:r.a.createElement("div",null,r.a.createElement("b",null,"Data distribution")," footer part"),renderItem:function(e){return r.a.createElement(Ia.a.Item,{key:e.user.nickName,actions:[r.a.createElement(Fr,{type:"star-o",text:"132",key:"list-vertical-star-o"}),r.a.createElement(Fr,{type:"like-o",text:"156",key:"list-vertical-like-o"}),r.a.createElement(Fr,{type:"message",text:"4",key:"list-vertical-message"})]},r.a.createElement(Ia.a.Item.Meta,{avatar:r.a.createElement(ft.a,{src:"".concat(S.a.ipfs_url,"/").concat(e.user.avatar)}),title:r.a.createElement("a",{href:e.href},e.user.nickName),description:r.a.createElement(cr.a,{disabled:!0,value:e.star})}),e.content)}}):r.a.createElement(Rr,{type:"danger"},"No reviews ",r.a.createElement(y.a,{type:"smile",theme:"twoTone",twoToneColor:"#617ECB",spin:!0})))}}]),a}(n.Component),Pr=h.a.Paragraph,Ur=h.a.Text,Nr=h.a.Title,Lr=(rn.a.Countdown,Ba.a.Meta),Mr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={labelDataList:[],feedbackList:[],isUsing:!1,starAmount:0,amountCount:0,loading:!0,isHasSlot:!1,objLabeler:null},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.idMongo;t!==this.props.idMongo&&this.props.getSongByID(t)}},{key:"componentDidMount",value:function(){var e,t=this;this.props.getSongByID(this.props.idMongo),this.props.getRelatedUser(),e={idSongMongo:this.props.idMongo},new Promise((function(t,a){return C.a.post(S.a.api_url+"/users/postViewMusic",e,{headers:Q()}).then((function(e){if(0===e.data.status)return a(e.data.error.message);t(e.data.result)})).catch((function(e){a(e)}))})),le(this.props.userReducer.user.addressEthereum).then(function(){var e=Object(Fa.a)(Aa.a.mark((function e(a){return Aa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(t.props.songReducer.songInfo.idFile).then(function(){var e=Object(Fa.a)(Aa.a.mark((function e(a){var n;return Aa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a.length){e.next=5;break}return n=0,e.next=4,Promise.all(a.map((function(e){n+=e.star})));case 4:t.setState({starAmount:Math.round(n/a.length)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a.map((function(e){t.props.songReducer.songInfo.idFile===e.idFile&&(t.state.isUsing=!0)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Oe().then(function(){var e=Object(Fa.a)(Aa.a.mark((function e(a){var n;return Aa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Promise.all(a.map((function(e){t.props.songReducer.songInfo.idFile===e.idFile&&n.push(e)})));case 3:if(0===n.length){e.next=6;break}return e.next=6,Promise.all(n[0].arrPartLabel.map((function(e){"0x0000000000000000000000000000000000000000"===e.labeler&&(t.state.isHasSlot=!0),e.labeler===t.props.userReducer.user.addressEthereum&&t.setState({objLabeler:e}),!1===e.isAccept&&t.state.amountCount++})));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){t.setState({labelDataList:e,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.songReducer,a=t.songInfo,n=t.songSameSingerData,i=t.relatedUserData;if(t.error)return r.a.createElement(zn,{history:this.props.history,subTitle:"This dataset not found. Please try another link!"});if(!a)return r.a.createElement(Ze,null);var l=[{title:"Address",dataIndex:"labeler",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Id Part",dataIndex:"idPart",key:"percent",render:function(e){return r.a.createElement(Ur,null,e)}},{title:"Result",dataIndex:"subHashLabeled",key:"amount",render:function(e){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0},type:"link",onClick:function(){window.open("https://ipfs.jumu.tk/".concat(e),"_blank")}},e)}}];return r.a.createElement(Dt.a,null,r.a.createElement(Dt.a,{gutter:[0,32]},r.a.createElement(It.a,{span:18},r.a.createElement(Dt.a,{style:{padding:5,margin:5}},r.a.createElement(It.a,{span:8},r.a.createElement(Dt.a,null,r.a.createElement(Lr,{style:{paddingBottom:10},avatar:r.a.createElement(ft.a,{size:59,src:window.$linkIPFS+a.userUpload.avatar}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.userUpload.addressEthereum))}},r.a.createElement(Ur,{style:{fontSize:18},type:"warning"},a.userUpload.nickName)),description:r.a.createElement(Ur,null," ",te(a.follow)," Follow ")})),r.a.createElement(Dt.a,null,r.a.createElement(cr.a,{disabled:!0,value:this.state.starAmount})),r.a.createElement(Dt.a,{style:{padding:5,margin:5}},r.a.createElement(ft.a,{shape:"square",size:220,src:window.$linkIPFS+a.image,alt:"Dataset photo"}),r.a.createElement(Je.a,{title:a.name,placement:"leftTop"},r.a.createElement(Pr,{strong:!0,style:{fontSize:"20px",margin:"15px"},ellipsis:{rows:2}},a.name)),null==a.isValid?r.a.createElement(Nr,{level:3,type:"danger"},"Unrecommend by Admin"):a.isValid?r.a.createElement(Nr,{level:3,type:"secondary",style:{color:Ir.a}},"Recommend by Admin"):r.a.createElement(Nr,{level:3,type:"warning"},"Not Verify")),r.a.createElement(Dt.a,{style:{padding:5,margin:5}},r.a.createElement(wr,{title:"Price",content:a.price+" DIVs",link:"link here"}),r.a.createElement(wr,{title:"Provider",content:a.artist,link:"link here"}),r.a.createElement(wr,{title:"Author",content:a.userUpload.nickName,link:"link here"}),r.a.createElement(wr,{title:"Release",content:Y(1e3*a.blockTime).format("L")}),r.a.createElement(wr,{title:"Visit",content:a.view}),r.a.createElement(wr,{title:"Download Total",content:a.totalDownloader}),r.a.createElement(wr,{title:"Download Week",content:a.weekDownloader}),r.a.createElement(wr,{title:"Contract Permission",content:a.contractPermission?"Allow":"Not Allow"}),r.a.createElement(wr,{title:"Labeling",content:0===this.state.labelDataList.length?"Not Use":this.props.songReducer.songInfo.IsLabeling?"Used":r.a.createElement("div",null,"Now Using",r.a.createElement("br",null)," ",r.a.createElement(Ur,null,"Wage: $",this.state.labelDataList[0].totalWage/this.state.labelDataList[0].partAmount)),link:"link here"}))),r.a.createElement(It.a,{span:16},r.a.createElement(Dt.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:10,paddingBottom:10}},r.a.createElement(Xn,{ownerSongID:a.userUpload._id,isFollowed:a.isFollowed}),r.a.createElement(Fn,{isCompleteLabel:a.IsLabeling,disabled:this.props.userReducer.user.id!==a.userUpload._id,idFile:a.idFile,unLabelFile:this.state.labelDataList}),r.a.createElement(Dr,{disabled:this.props.userReducer.user.id!==a.userUpload._id,idMongo:this.props.idMongo}),0===this.state.labelDataList.length||a.IsLabeling?r.a.createElement(v.a,{disabled:!0,type:"primary",ghost:!0,icon:"bg-colors",onClick:this.showModal},r.a.createElement(Ur,null,"No label")):this.state.labelDataList.map((function(t){return r.a.createElement(It.a,{key:t.idFile},r.a.createElement(Cr,{hasSlot:e.state.isHasSlot,idFile:a.idFile,objLabeler:e.state.objLabeler}))})),r.a.createElement(Pn,{idFile:a.idFile})),r.a.createElement(Dt.a,{style:{padding:5,marginTop:20}},r.a.createElement(Nr,{level:4,type:"secondary"}," DESCRIPTION  "),r.a.createElement("div",{style:{width:"100%",maxHeight:250,backgroundColor:"rgb(239, 242, 245)",overflow:"auto"}},r.a.createElement("div",{style:{padding:5,margin:5},dangerouslySetInnerHTML:{__html:a.description}}))),r.a.createElement(Dt.a,{style:{padding:3,marginTop:20}},r.a.createElement(Nr,{level:4,type:"secondary"}," LABELING INFOMATION "),0!==this.state.labelDataList.length?this.props.userReducer.user.id===a.userUpload._id?r.a.createElement("div",null,r.a.createElement(sr.a,{style:{paddingRight:"10px",margin:"5px"},strokeColor:{from:"#108ee9",to:"#DDDD21"},percent:Number(parseFloat(100-100*this.state.amountCount/this.state.labelDataList[0].partAmount).toFixed(1)),status:"active",showInfo:!0}),r.a.createElement(wr,{title:"Total Wage",content:te(this.state.labelDataList[0].totalWage)+" DIVs"}),r.a.createElement(wr,{title:"Total Part",content:te(this.state.labelDataList[0].partAmount)+" parts"}),r.a.createElement(wr,{title:"Labeler List",content:""}),r.a.createElement(ot.a,{rowKey:function(e){return e.idFile},columns:l,dataSource:this.state.labelDataList[0].arrPartLabel.filter((function(e){return!0===e.isAccept})),pagination:!1})):r.a.createElement(Ur,{type:"danger"}," You are not allow to see this part ",r.a.createElement(y.a,{type:"smile",theme:"twoTone"})," "):r.a.createElement(Ur,null," This dataset is not finding labeler. ")),r.a.createElement(Dt.a,{style:{padding:5,marginTop:20}},r.a.createElement(Dt.a,null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(Nr,{level:4,type:"secondary"},"DATASET WITH THE SAME PROVIDER >>>"))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},n?0===n.length?r.a.createElement(Ur,null," This user just haven't this dataset yet! "):n.map((function(e){return r.a.createElement(It.a,{key:e._id,span:8,style:{width:170,marginTop:20}},r.a.createElement(Qa,{songInfo:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(un,null)),r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(un,null))))),r.a.createElement(Dt.a,{style:{padding:5,marginTop:20}},r.a.createElement(Dt.a,null,r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:"20px"},type:"link",onClick:function(){}},r.a.createElement(Nr,{level:4,type:"secondary"},"RELATED PROVIDER >>>"))),r.a.createElement(Dt.a,{gutter:[8,0],type:"flex",justify:"space-around"},i?i.map((function(e){return r.a.createElement(It.a,{span:6,style:{width:170,marginTop:20}},r.a.createElement($a,{songPage:!0,user:e}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(Wa,null)),r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(Wa,null)),r.a.createElement(It.a,{span:8,style:{marginTop:20}},r.a.createElement(Wa,null))))))),r.a.createElement(Dt.a,null,r.a.createElement(Nr,{level:2,type:"main"},r.a.createElement("u",null,"FEEDBACK")),r.a.createElement(xr,{idFile:a.idFile}),this.state.isUsing?r.a.createElement("div",null,r.a.createElement(Nr,{level:2,type:"main"},r.a.createElement("u",null,"YOUR OPINION")),r.a.createElement(Ar,{idFile:a.idFile})):r.a.createElement(Ur,null,r.a.createElement(y.a,{type:"smile",theme:"twoTone",twoToneColor:"#617ECB",spin:!0})," Buy to review"))),r.a.createElement(It.a,{span:6},r.a.createElement("div",{style:{backgroundColor:"#e0e0e0",height:1e3}},r.a.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:"https://ipfs.jumu.tk/QmSwC5uJkYdTTibVBFxKvRqYgnzXCU9C1fQ1sxkTUvEnkx"})))))}}]),a}(r.a.Component),Vr=Object(d.g)(Object(m.b)((function(e){return{songReducer:e.songReducer,userReducer:e.userReducer,pageReducer:e.pageReducer}}),(function(e){return{getSongByID:function(t){return e(Jn(t))},getSongSameSinger:function(t){return e(Yn(t))},getRelatedUser:function(){return e(Kn())}}}))(Mr)),Hr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Vr,{idMongo:this.props.match.params.idMongo}),history:this.props.history})}}]),a}(n.Component),Br=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataISO:[],loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){return C.a.get(S.a.api_url+"/ethereums/getISOList",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){console.log("loine: "+e),t(e)}))})).then((function(t){e.setState({dataISO:t,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(Ze,null):r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataISO.map((function(e){return r.a.createElement(It.a,{key:e.idFile,span:6},r.a.createElement(sn,{record:e,action:!0}))}))))}}]),a}(r.a.Component),zr=Object(m.b)((function(e){return{}}),(function(e){return{}}))(Br),Gr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(zr,null),history:this.props.history})}}]),a}(n.Component),qr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Bn,{isPage:!1}),history:this.props.history})}}]),a}(n.Component);a(745),a(746);function $r(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function Wr(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||lt.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||lt.a.error("Image must smaller than 2MB!"),t&&a}var Kr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleChange=function(t){"uploading"!==t.file.status?"done"===t.file.status&&($r(t.file.originFileObj,(function(t){e.setState({imageUrl:t,loading:!1})})),e.props.file(t.file.response.result,e.state.loading)):e.setState({loading:!0})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement(y.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(it.a,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:S.a.api_url+"/users/upload",beforeUpload:Wr,onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e)}}]),a}(r.a.Component),Yr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.goTo,n=t.func,i=t.title,l=t.subTitle;return r.a.createElement(Ye.a,{status:"success",title:i,subTitle:l,extra:r.a.createElement(v.a,{type:"primary",onClick:function(){e.props.history.push("/".concat(a)),n&&n()}},"Go to ",a)})}}]),a}(r.a.Component),Jr=Object(d.g)(Yr),Qr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hashAvatar:"",hashCoverPhoto:""},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){t||(console.log("Received values of form: ",a),e.setState({hashAvatar:"",hashCoverPhoto:""}),e.props.updateUser(a),e.props.form.resetFields())}))},e.normFile=function(t){e.setState({hashAvatar:t})},e.normFile2=function(t){e.setState({hashCoverPhoto:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.props.userReducer.isUpdate?r.a.createElement(Ze,null):this.props.userReducer.updateSuccessful?r.a.createElement(Jr,{title:"SUCCESSFUL",subTitle:"Update user information successful",goTo:"home",func:this.props.reset_update}):this.props.userReducer.errorUpdate?r.a.createElement(et,{func:this.props.handle_update_error,title:"ERROR at update user information!",subTitle:this.props.userReducer.errorUpdate,goTo:"setting"}):r.a.createElement(g.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onSubmit:this.handleSubmit}),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(Je.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("nickName")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"UserName\xa0",r.a.createElement(Je.a,{title:"What do you want others to call you?"},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"question-circle-o"})))},t("userName",{rules:[{message:"Your input is not valid.",pattern:/^\S{8,16}$/}]})(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Youtube\xa0",r.a.createElement(Je.a,{title:"Write your link youtube chanel."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"youtube"})))},t("youtube")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Facebook\xa0",r.a.createElement(Je.a,{title:"Write your link facebook."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"facebook"})))},t("facebook")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Home Address\xa0",r.a.createElement(Je.a,{title:"Write your home address."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"home"})))},t("home")(r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"Avatar\xa0",r.a.createElement(Je.a,{title:"Upload your avatar."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"smile"})))},t("avatar",{initialValue:this.state.hashAvatar})(r.a.createElement(Kr,{file:function(t){return e.normFile(t)}}))),r.a.createElement(g.a.Item,{label:r.a.createElement("span",null,"CoverPhoto\xa0",r.a.createElement(Je.a,{title:"Upload your cover photo."},r.a.createElement(y.a,{style:{fontSize:"15px",color:"#1da1f2",paddingLeft:5},type:"picture"})))},t("coverPhoto",{initialValue:this.state.hashCoverPhoto})(r.a.createElement(Kr,{file:function(t){return e.normFile2(t)}}))),r.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:6}},r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),a}(r.a.Component),Zr=g.a.create({name:"validate_other"})(Qr),Xr=Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{updateUser:function(t){return e(Ne(t))},handle_update_error:function(){return e({type:"HANDLE_UPDATE_ERROR"})},reset_update:function(){return e({type:"RESET_UPDATE"})}}}))(Zr),ei=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Xr,null),history:this.props.history})}}]),a}(n.Component),ti=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.appReducer.musicSelected,t=e.hash,a=e.image,n=e.idSolidity;return r.a.createElement("div",{style:{visibility:this.props.isMusicDetail?"":0===Object.entries(this.props.appReducer.musicSelected).length?"hidden":""}},r.a.createElement(Ba.a,{hoverable:!0,bordered:!1,bodyStyle:{backgroundColor:"#D6DBDF",position:"fixed",bottom:0,width:"100vw",padding:10}},r.a.createElement(yr,{musicHash:t,imageHash:a,idFile:n})))}}]),a}(n.Component),ai=(Object(m.b)((function(e){return{appReducer:e.appReducer}}),(function(e){return{}}))(ti),Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))((function(e){var t=e.component,a=e.userReducer,n=Object(Qt.a)(e,["component","userReducer"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a.signinSuccessful?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}))),ni=(a(747),h.a.Text),ri=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.componentDidMount=function(){e.setState({text:e.props.content})},e.handleChange=function(t){e.setState({text:t})},e.handleOk=function(){e.props.mainContract?je({songID:e.props.songID,content:e.state.text,nameContractForm:e.props.nameContractForm}).then((function(t){return e.props.history.push("/mainContract/"+t.idContract),f.a.success({content:"Create a contract to this song success!"})})).catch((function(t){return e.setState({text:e.props.content}),f.a.error({title:"Create a contract to this song failed!",content:t})})):we({tempContractID:e.props.idMongo,content:e.state.text}).then((function(e){return f.a.success({content:"Update Success!"})})).catch((function(t){return e.setState({text:e.props.content}),f.a.error({title:"Update Failed!",content:t})}))},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ba.a,{bordered:!1,title:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginRight:20}},r.a.createElement(ni,{code:!0}," Last updated: ",Y(this.props.date).format("LLLL"))),extra:r.a.createElement(v.a,{onClick:this.handleOk,type:"danger"},this.props.mainContract?"Use this form":"Update"),style:{width:"100%"}},r.a.createElement(en.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:a.modules,formats:a.formats,placeholder:"Write something...",style:{width:"100%",height:"1000px"}}))}}]),a}(r.a.Component);ri.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},ri.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var ii=Object(d.g)(ri),li=gn.a.TabPane,oi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""},e.handleChange=function(t){e.setState({text:t})},e.handleChangeName=function(t){var a=t.target.value;e.setState({nameContractForm:a})},e.handleClickBtnCreate=function(t){e.setState({showCreateForm:t})},e.handleOk=function(){if(!e.state.text||!e.state.nameContractForm)return f.a.error({title:"Please fill all field!"});we({content:e.state.text,nameContractForm:e.state.nameContractForm}).then((function(t){return e.setState({text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""}),Ie().then((function(t){e.setState({tempContractData:t})})),f.a.success({title:"Update Success!"})}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Ie().then((function(t){e.setState({tempContractData:t})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(v.a,{type:"primary",onClick:function(){return e.handleClickBtnCreate(!0)}},"Create Form");return r.a.createElement("div",null,r.a.createElement(gn.a,{tabBarExtraContent:t},this.state.tempContractData.map((function(e,t){return r.a.createElement(li,{tab:e.nameContractForm,key:t},r.a.createElement(ii,{content:e.content,idMongo:e._id,date:e.date_updated}))}))),r.a.createElement(f.a,{title:r.a.createElement(E.a,{value:this.state.nameContractForm,style:{width:"400px"},placeholder:"Input name of this contract form",onChange:this.handleChangeName}),style:{top:20},visible:this.state.showCreateForm,onOk:this.handleOk,onCancel:function(){return e.handleClickBtnCreate(!1)}},r.a.createElement(en.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:a.modules,formats:a.formats,placeholder:"Write something...",style:{width:"100%",height:"500px",marginBottom:"50px"}})))}}]),a}(r.a.Component);oi.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},oi.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var ci=Object(d.g)(Object(m.b)((function(e){return{}}),(function(e){return{}}))(oi)),si=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(ci,null),history:this.props.history})}}]),a}(n.Component),ui=gn.a.TabPane,mi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={text:"",showCreateForm:!1,tempContractData:[],nameContractForm:""},e.handleChange=function(t){e.setState({text:t})},e.handleChangeName=function(t){var a=t.target.value;e.setState({nameContractForm:a})},e.handleClickBtnCreate=function(t){e.setState({showCreateForm:t})},e.handleOk=function(){if(!e.state.text||!e.state.nameContractForm)return f.a.error({title:"Please fill all field!"});je({content:e.state.text,nameContractForm:e.state.nameContractForm,songID:e.props.idTempContract}).then((function(t){return e.setState({text:"",showCreateForm:!1}),e.props.history.push("/mainContract/"+t.idContract),f.a.success({title:"Create new contract to this song success!"})})).catch((function(e){return f.a.error({title:"Error: ".concat(e)})}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Ie(this.props.idTempContract).then((function(t){e.setState({tempContractData:t})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(v.a,{type:"primary",onClick:function(){return e.handleClickBtnCreate(!0)}},"Create Form");return r.a.createElement("div",null,r.a.createElement(gn.a,{tabBarExtraContent:t},this.state.tempContractData.map((function(t,a){return r.a.createElement(ui,{tab:t.nameContractForm,key:a},r.a.createElement(ii,{mainContract:!0,nameContractForm:t.nameContractForm,songID:e.props.idTempContract,content:t.content,idTempContract:t._id,date:t.date_updated}))}))),r.a.createElement(f.a,{title:r.a.createElement(E.a,{style:{width:"400px"},placeholder:"Input name of this contract form",onChange:this.handleChangeName}),style:{top:20},visible:this.state.showCreateForm,onOk:this.handleOk,onCancel:function(){return e.handleClickBtnCreate(!1)}},r.a.createElement(en.a,{theme:"snow",value:this.state.text,onChange:this.handleChange,modules:a.modules,formats:a.formats,placeholder:"Write something...",style:{width:"100%",height:"500px",marginBottom:"50px"}})))}}]),a}(r.a.Component);mi.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},mi.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var pi=Object(d.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(mi)),di=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(pi,{idTempContract:this.props.match.params.idTempContract}),history:this.props.history})}}]),a}(n.Component),hi=(Ba.a.Meta,gn.a.TabPane,h.a.Text),fi=h.a.Title,gi=g.a.create({name:"form_in_modal"})(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={contractMoney:0,OwnerCA:0,SignerCA:0,costUSD:23e3,estimatedTime:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({contractMoney:this.props.contractMoney/this.state.costUSD,OwnerCA:this.props.ownerCompensationAmount/this.state.costUSD,SignerCA:this.props.signerCompensationAmount/this.state.costUSD,estimatedTime:ae(this.props.timeAmount)})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.nameContractForm,n=t.contractMoney,i=t.ownerCompensationAmount,l=t.signerCompensationAmount,o=t.isPublic,c=t.timeAmount,s=t.form.getFieldDecorator;return r.a.createElement(g.a,{layout:"vertical"},r.a.createElement(g.a.Item,{label:"Contract name"},s("nameContractForm",{rules:[{required:!0,message:"Please input the name of this contract!"}],initialValue:a})(r.a.createElement(E.a,{placeholder:"Please input contract's name"}))),r.a.createElement(g.a.Item,{label:"Contract Money"},s("contractMoney",{rules:[{required:!0,message:"Please input contract money of this song!"}],initialValue:n,onChange:function(t){e.setState({contractMoney:t/e.state.costUSD})}})(r.a.createElement(gt.a,{style:{width:200},min:0,formatter:function(e){return te(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," DIV"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.contractMoney," USD")),r.a.createElement(g.a.Item,{label:"Owner Compensation Amount"},s("ownerCompensationAmount",{rules:[{required:!0,message:"Please input Owner Compensation Amount!"}],initialValue:i,onChange:function(t){e.setState({OwnerCA:t/e.state.costUSD})}})(r.a.createElement(gt.a,{style:{width:200},min:0,formatter:function(e){return te(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," DIV"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.OwnerCA," USD")),r.a.createElement(g.a.Item,{label:"Signer Compensation Amount"},s("signerCompensationAmount",{rules:[{required:!0,message:"Please input Signer Compensation Amount!"}],initialValue:l,onChange:function(t){e.setState({SignerCA:t/e.state.costUSD})}})(r.a.createElement(gt.a,{style:{width:200},min:0,formatter:function(e){return te(e)},maxLength:25})),r.a.createElement("span",{className:"ant-form-text"}," DIV"),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.SignerCA," USD")),r.a.createElement(g.a.Item,{label:"Time Amount"},s("timeAmount",{rules:[{required:!0,message:"Please input Time Amount!"}],initialValue:c,onChange:function(t){e.setState({estimatedTime:ae(t)})}})(r.a.createElement(gt.a,{style:{width:200},min:0,maxLength:15})),r.a.createElement("span",{className:"ant-form-text"},"\u279c   ",this.state.estimatedTime)),r.a.createElement(g.a.Item,{label:"Public Permission"},s("isPublic",{rules:[{required:!0,message:"Please choose this field!"}],initialValue:o,valuePropName:"checked"})(r.a.createElement(Gn.a,null))))}}]),a}(r.a.Component)),Ei=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={text:"",contract:null},e.handleChangeContent=function(t){e.setState({text:t})},e.hanldeExecuteContract=function(){Z("Executing to Ethereum ..."),Ae({idContractMongo:e.props.idContract}).then((function(t){return ee(t),e.setState({contract:null,text:""}),Te(e.props.idContract).then((function(t){e.setState({contract:t,text:t.content})})),f.a.success({title:"Update contract success!"})})).catch((function(e){return X("Can not execute transaction, Please try again!"),f.a.error({title:"Error: ".concat(e)})}))},e.hanldeCancelContract=function(){Z("Executing to Ethereum ..."),Re({idContractMongo:e.props.idContract}).then((function(t){return ee(t),e.setState({contract:null,text:""}),Te(e.props.idContract).then((function(t){e.setState({contract:t,text:t.content})})),f.a.success({title:"Update contract success!"})})).catch((function(e){return X("Can not execute transaction, Please try again!"),f.a.error({title:"Error: ".concat(e)})}))},e.hanldeApproveContract=function(){Z("Executing to Ethereum ..."),Fe({idContractMongo:e.props.idContract}).then((function(t){return ee(t),e.setState({contract:null,text:""}),Te(e.props.idContract).then((function(t){e.setState({contract:t,text:t.content})})).catch((function(e){console.log(e)})),f.a.success({title:"Confirm contract success!"})})).catch((function(e){return X("Can not execute transaction, Please try again!  ".concat(e)),f.a.error({title:"Error: ".concat(e)})}))},e.hanldeUpdateContract=function(){e.formRef.props.form.validateFields((function(t,a){if(t)return lt.a.error("please fill out all fields");Object.assign(a,{idContract:e.props.idContract,content:e.state.text}),je(a).then((function(t){return e.setState({contract:null,text:""}),Te(e.props.idContract).then((function(t){e.setState({contract:t,text:t.content})})),f.a.success({title:"Update contract success!"})})).catch((function(e){return f.a.error({title:"Error: ".concat(e)})}))}))},e.onApproved=function(t){_e({approved:t,idContract:e.props.idContract}).catch((function(e){return f.a.error({title:"Error: ".concat(e)})}))},e.saveFormRef=function(t){e.formRef=t},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.idContract;t!==this.props.idContract&&Te(t)}},{key:"componentDidMount",value:function(){var e=this;Te(this.props.idContract).then((function(t){e.setState({contract:t,text:t.content})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(!this.state.contract)return r.a.createElement(Ze,null);var t=this.state.contract,n=t.songID,i=t.timeAmount,l=t.isExecuteContract,o=t.ownerID,c=t.ownerFollow,s=t.ownerApproved,u=t.signerID,m=t.signerApproved,p=t.signerFollow,d=t.nameContractForm,h=t.contractMoney,f=t.ownerCompensationAmount,g=t.signerCompensationAmount,E=t.isPublic,b=t.whoExecuted,k=t.isConfirmContract,C=t.isCancel;return r.a.createElement("div",{style:{}},r.a.createElement(Dt.a,{style:{display:"flex",justifyContent:"center",padding:5,margin:5}},r.a.createElement(fi,{level:4},n.name," ",C?"(Canceled)":null)),r.a.createElement(Dt.a,{gutter:[32,32]},r.a.createElement(It.a,{span:6},r.a.createElement(Ba.a,{style:{backgroundColor:"#FBFBFB"},hoverable:!0,bordered:!1},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(ft.a,{size:180,src:window.$linkIPFS+o.avatar,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(fi,{ellipsis:!0,level:4},o.nickName),r.a.createElement(hi,{type:"secondary"},c," Follow"),r.a.createElement("br",null),r.a.createElement(hi,{type:"danger"},"Owner"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(hi,{type:"secondary"},"Approved : "),this.props.userReducer.user.id===o._id?r.a.createElement(Gn.a,{onChange:function(t){return e.onApproved(t)},disabled:!1,defaultChecked:s,checkedChildren:r.a.createElement(y.a,{type:"check"}),unCheckedChildren:r.a.createElement(y.a,{type:"close"})}):r.a.createElement(Gn.a,{disabled:!0,checked:s,checkedChildren:r.a.createElement(y.a,{type:"check"}),unCheckedChildren:r.a.createElement(y.a,{type:"close"})})))),r.a.createElement(tr,{icon:"phone",link:"linkPhone",content:o.phone}),r.a.createElement(tr,{icon:"youtube",link:"linkYoutube",content:o.youtube}),r.a.createElement(tr,{icon:"facebook",link:"linkFacebook",content:o.facebook}),r.a.createElement(tr,{icon:"home",link:"linkHome",content:o.home}))),r.a.createElement(It.a,{style:{backgroundColor:"#FBFBFB"},span:12},r.a.createElement(gi,{wrappedComponentRef:this.saveFormRef,onCancel:this.handleCancel,onCreate:this.handleCreate,onRef:function(t){return e.child=t},nameContractForm:d,contractMoney:h,ownerCompensationAmount:f,signerCompensationAmount:g,isPublic:E,timeAmount:i}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(v.a,{disabled:!(m&&s&&!l),type:"danger",onClick:function(){return e.hanldeExecuteContract()}}," Execute Transaction"),k?r.a.createElement(v.a,{disabled:!!C,type:"danger",onClick:function(){return e.hanldeCancelContract()}}," Cancel Contract"):r.a.createElement(v.a,{disabled:!!l,type:"primary",onClick:function(){return e.hanldeUpdateContract()}}," Update Contract"),r.a.createElement(v.a,{disabled:!!k||!l||e.props.userReducer.user.id===b,type:"danger",onClick:function(){return e.hanldeApproveContract()}}," Confirm Transaction"))),r.a.createElement(It.a,{span:6},r.a.createElement(Ba.a,{style:{backgroundColor:"#FBFBFB"},hoverable:!0,bordered:!1},r.a.createElement("div",{className:"logo-name"},r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(ft.a,{size:180,src:window.$linkIPFS+u.avatar,alt:"Avatar photo"})),r.a.createElement("div",null,r.a.createElement(fi,{ellipsis:!0,level:4},u.nickName),r.a.createElement(hi,{type:"secondary"},p," Follow"),r.a.createElement("br",null),r.a.createElement(hi,{type:"warning"},"Signer"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(hi,{type:"secondary"},"Approved : "),this.props.userReducer.user.id===u._id?r.a.createElement(Gn.a,{onChange:function(t){return e.onApproved(t)},disabled:!1,defaultChecked:m,checkedChildren:r.a.createElement(y.a,{type:"check"}),unCheckedChildren:r.a.createElement(y.a,{type:"close"})}):r.a.createElement(Gn.a,{disabled:!0,checked:m,checkedChildren:r.a.createElement(y.a,{type:"check"}),unCheckedChildren:r.a.createElement(y.a,{type:"close"})})))),r.a.createElement(tr,{icon:"phone",link:"linkPhone",content:u.phone}),r.a.createElement(tr,{icon:"youtube",link:"linkYoutube",content:u.youtube}),r.a.createElement(tr,{icon:"facebook",link:"linkFacebook",content:u.facebook}),r.a.createElement(tr,{icon:"home",link:"linkHome",content:u.home})))),r.a.createElement(Dt.a,null,r.a.createElement(en.a,{theme:"snow",value:this.state.text,onChange:this.handleChangeContent,modules:a.modules,formats:a.formats,placeholder:"Write something...",style:{width:"100%",height:"1000px",marginBottom:"50px",marginTop:"50px"}})))}}]),a}(r.a.Component);Ei.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},Ei.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var yi=Object(d.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(Ei)),bi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(yi,{idContract:this.props.match.params.idContract}),history:this.props.history})}}]),a}(n.Component),vi=(a(748),h.a.Text),ki=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e}return Object(c.a)(a,[{key:"onClickOk",value:function(e){this.setState({visible:e})}},{key:"onClickCancel",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=this,t=this.props.record,a=[{title:"Address",dataIndex:"investor",key:"address",ellipsis:!0,render:function(t){return r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:14},type:"link",onClick:function(){return e.props.history.push("/page/".concat(t))}},t)}},{title:"Invest percent",dataIndex:"percentage",key:"percent",render:function(e){return r.a.createElement(vi,null,parseFloat(e/1e3).toFixed(3)," %")}},{title:"Invest Amount",dataIndex:"amount",key:"amount",render:function(e){return r.a.createElement(vi,null,te(e)," HAK")}}];return r.a.createElement("div",null,r.a.createElement(Je.a,{title:"Show more details of this song",placement:"rightTop"},r.a.createElement(v.a,{type:"primary",ghost:!0,icon:"info-circle",onClick:this.showModal},r.a.createElement(vi,null,"Detail ISO"))),r.a.createElement(f.a,{title:"record.music.name - ISO",bodyStyle:{padding:0,margin:0},visible:this.state.visible,onCancel:function(){return e.onClickCancel(!1)}},r.a.createElement(sn,{record:t,action:!1}),r.a.createElement(wr,{title:"Total Offer Amount",content:te(t.offerAmount)+" HAK"}),r.a.createElement(wr,{title:"Total Offer Percent",content:parseFloat(t.offerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(wr,{title:"Amount Remaining",content:te(t.amountRemaining)+" HAK"}),r.a.createElement(wr,{title:"Owner Percent Remaining",content:parseFloat(t.ownerPercent/1e3).toFixed(3)+"%"}),r.a.createElement(wr,{title:"Invest table",content:""}),r.a.createElement(ot.a,{rowKey:function(e){return e.idFile},columns:a,dataSource:t.investListISO,pagination:!1})))}}]),a}(r.a.Component),Ci=(Object(d.g)(Object(m.b)((function(e){return{userReducer:e.userReducer}}),(function(e){return{}}))(ki)),Ba.a.Meta),Oi=(rn.a.Countdown,h.a.Text),Si=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.isOwner;return r.a.createElement(Ba.a,{style:{display:"flex",alignItems:"center",flexDirection:"column"},hoverable:!0,cover:r.a.createElement("img",{className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.songID.image,onClick:function(){return e.props.history.push("/mainContract/".concat(a._id))}}),bodyStyle:{padding:"15px",width:"100%",border:"0px solid green"}},r.a.createElement(v.a,{style:{textAlign:"center",padding:0,fontSize:14,height:20},type:"link",onClick:function(){return e.props.history.push("/data/".concat(a.songID._id))}},a.songID.name),n?r.a.createElement(Ci,{style:{paddingBottom:10},avatar:r.a.createElement(ft.a,{size:59,src:window.$linkIPFS+a.ownerID.avatar,alt:a.ownerID.nickName}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.ownerID.addressEthereum))}},r.a.createElement(Oi,{style:{fontSize:16},type:"warning"},a.ownerID.nickName))}):r.a.createElement(Ci,{style:{paddingBottom:10},avatar:r.a.createElement(ft.a,{size:59,src:window.$linkIPFS+a.signerID.avatar,alt:a.signerID.nickName}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.signerID.addressEthereum))}},r.a.createElement(Oi,{style:{fontSize:16},type:"warning"},a.signerID.nickName))}))}}]),a}(r.a.Component),wi=(Object(d.g)(Si),h.a.Text,h.a.Title),ji=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataContract:null,loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){return C.a.get(S.a.api_url+"/actions/getUserContract",{headers:Q()}).then((function(a){if(0===a.data.status)return t(a.data.error.message);e(a.data.result)})).catch((function(e){return t(e)}))})).then((function(t){e.setState({dataContract:t,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.dataContract?r.a.createElement(Dt.a,{gutter:[32,32]},r.a.createElement(It.a,{span:18},r.a.createElement(Dt.a,{style:{padding:10,margin:10,textAlign:"center"}},r.a.createElement(wi,{level:4,type:"secondary"}," You Are Owner ")),r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataContract.ownerData.map((function(e){return r.a.createElement(It.a,{key:e._id,span:6},r.a.createElement(Qa,{songInfo:e.songID,contract:e}))}))),r.a.createElement(Dt.a,{style:{padding:10,margin:10,textAlign:"center"}},r.a.createElement(wi,{level:4,type:"secondary"}," You Are Signer ")),r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataContract.signerData.map((function(e){return r.a.createElement(It.a,{key:e._id,span:6},r.a.createElement(Qa,{songInfo:e.songID,contract:e}))})))),r.a.createElement(It.a,{span:6},r.a.createElement("div",{style:{backgroundColor:"#e0e0e0",height:1e3}},"Advertising"))):r.a.createElement(Ze,null))}}]),a}(r.a.Component),Di=Object(m.b)((function(e){return{}}),(function(e){return{}}))(ji),Ii=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Di,null),history:this.props.history})}}]),a}(n.Component),Ti=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataISO:[],loading:!0},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(Ze,null):r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.dataISO.map((function(e){return r.a.createElement(It.a,{key:e.idFile,span:6},"hello")}))))}}]),a}(r.a.Component),_i=Object(m.b)((function(e){return{}}),(function(e){return{}}))(Ti),Ai=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(_i,null),history:this.props.history})}}]),a}(n.Component),Fi=a(813),Ri=(a(749),a(750),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ye.a,{status:"success",title:"pay!",subTitle:"Cu\u1ed9c kh\u1ea3o s\xe1t s\u1ebd ti\xeau t\u1ed1n ".concat(this.props.total)}))}}]),a}(n.Component)),xi=Ke.a.Option,Pi={background:"#8AA4D5",padding:"8px 0"},Ui=0;function Ni(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}function Li(e){console.log("selected ".concat(e))}var Mi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(e){console.log(e)},e.onFinish1=function(e){console.log("Received values of form:",e)},e.remove=function(t){var a=e.props.form,n=a.getFieldValue("keys");1!==n.length&&a.setFieldsValue({keys:n.filter((function(e){return e!==t}))})},e.add=function(){var t=e.props.form,a=t.getFieldValue("keys").concat(Ui++);t.setFieldsValue({keys:a})},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(e,t){if(!e){var a=t.keys,n=t.names;console.log("Received values of form: ",t),console.log("Merged values:",a.map((function(e){return n[e]})))}}))},e.state={previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}],inputValue1:1,inputValue2:1,inputValue3:[20,50],inputValue4:1},e.handleCancel=function(){return e.setState({previewVisible:!1})},e.handlePreview=function(){var t=Object(Fa.a)(Aa.a.mark((function t(a){return Aa.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.url||a.preview){t.next=4;break}return t.next=3,Ni(a.originFileObj);case 3:a.preview=t.sent;case 4:e.setState({previewImage:a.url||a.preview,previewVisible:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.fileList;return e.setState({fileList:a})},e.onChange=function(t){e.setState({inputValue1:t,inputValue4:t*e.state.inputValue2})},e.onChange1=function(t){e.setState({inputValue2:t,inputValue4:t*e.state.inputValue1})},e.onChange2=function(t){e.setState({inputValue3:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputValue1,n=t.inputValue2,i=t.inputValue3,l=t.inputValue4,o=this.state,c=o.previewVisible,s=o.previewImage,u=o.fileList,m=r.a.createElement("div",null,r.a.createElement(y.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),p=this.props.form,d=p.getFieldDecorator,h=p.getFieldValue,b={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},k={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};d("keys",{initialValue:[]});var C=h("keys"),O=C.map((function(t,a){return r.a.createElement(g.a.Item,Object.assign({},b,{label:"Question ".concat(a),required:!1,key:t}),d("names[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input the question or delete this field."}]})(r.a.createElement(E.a.Group,{compact:!0},r.a.createElement(E.a,{placeholder:"Question",style:{width:"60%",marginRight:8}}),r.a.createElement("div",{className:"clearfix"},r.a.createElement(it.a,{style:{width:"40",height:"50"},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:u,onPreview:e.handlePreview,onChange:e.handleChange},u.length>=8?null:m),r.a.createElement(f.a,{visible:c,footer:null,onCancel:e.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:s}))),r.a.createElement("div",null,r.a.createElement(E.a,{placeholder:"Option 1",style:{width:"60%",marginRight:8}}),r.a.createElement(E.a,{placeholder:"Option 2",style:{width:"60%",marginRight:8}}),r.a.createElement(E.a,{placeholder:"Option 3",style:{width:"60%",marginRight:8}}),r.a.createElement(E.a,{placeholder:"Option 4",style:{width:"60%",marginRight:8}})))),C.length>1?r.a.createElement(y.a,{className:"dynamic-delete-button",type:"minus-circle-o",onClick:function(){return e.remove(t)}}):null)}));return r.a.createElement("div",null,r.a.createElement(dt.a,{orientation:"left",style:{color:"#333",fontWeight:"normal"}},r.a.createElement("h1",null,"Public Title")),r.a.createElement(Dt.a,{gutter:16},r.a.createElement(It.a,{className:"gutter-row",span:"100%"},r.a.createElement("div",{style:Pi},r.a.createElement(g.a,{name:"complex-form",onFinish:this.onFinish,labelCol:{span:4},wrapperCol:{span:16}},r.a.createElement(g.a.Item,{name:"title",label:"Title",noStyle:!0,rules:[{required:!0,message:"Title is required"}]},r.a.createElement(E.a,{style:{width:"60%"},placeholder:"Please enter title"})),r.a.createElement(g.a.Item,{name:"title",label:"Description",noStyle:!0,rules:[{required:!0,message:"Title is required"}]},r.a.createElement(E.a,{style:{width:"60%"},placeholder:"Please enter description"})))))),r.a.createElement(dt.a,{orientation:"left",style:{color:"#333",fontWeight:"normal"}},r.a.createElement("h1",null,"Question")),r.a.createElement(Dt.a,{gutter:16},r.a.createElement(It.a,{className:"gutter-row",span:"100%"},r.a.createElement("div",{style:Pi},r.a.createElement(g.a,{onSubmit:this.handleSubmit},O,r.a.createElement(g.a.Item,k,r.a.createElement(v.a,{type:"dashed",onClick:this.add,style:{width:"60%"}},r.a.createElement(y.a,{type:"plus"})," Add question")),r.a.createElement(g.a.Item,k,r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))))),r.a.createElement(dt.a,{orientation:"left",style:{color:"#333",fontWeight:"normal"}},r.a.createElement("h1",null,"Who will see your Survey?")),r.a.createElement(Dt.a,{gutter:[16,24]},r.a.createElement(It.a,{className:"gutter-row",span:"100%"},r.a.createElement("div",{style:Pi},r.a.createElement(g.a,{name:"complex-form",labelCol:{span:4},wrapperCol:{span:16}},r.a.createElement(g.a.Item,{label:"Total Responses",noStyle:!0},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{span:12},d("slider1")(r.a.createElement(pr.a,{min:0,max:25e3,marks:{0:"A",5e3:"B",1e4:"C",15e3:"D",2e4:"E",25e3:"F"},onChange:this.onChange,value:"number"===typeof a?a:0}))),r.a.createElement(It.a,{span:4},r.a.createElement(gt.a,{min:1,max:25e3,style:{marginLeft:16},value:a,onChange:this.onChange}),","))),r.a.createElement(g.a.Item,{label:"Reward per Response",noStyle:!0},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{span:12},d("slider2")(r.a.createElement(pr.a,{min:0,max:125,marks:{0:"A",25:"B",50:"C",75:"D",100:"E",125:"F"},onChange:this.onChange1,value:"number"===typeof n?n:0}))),r.a.createElement(It.a,{span:4},r.a.createElement(gt.a,{min:1,max:125,style:{marginLeft:16},value:n,onChange:this.onChange1}),","))),r.a.createElement(g.a.Item,{label:"Ages",noStyle:!0},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{span:12},d("slider3")(r.a.createElement(pr.a,{range:!0,min:0,max:100,marks:{0:"A",25:"B",50:"C",75:"D",100:"E"},onChange:this.onChange2,value:i}))),r.a.createElement(It.a,{span:4},r.a.createElement(E.a,{style:{marginLeft:16},value:"".concat(i[0]," - ").concat(i[1])})))),r.a.createElement(g.a.Item,{label:"Gender",noStyle:!0},d("radio-button")(r.a.createElement(Qe.a.Group,null,r.a.createElement(Qe.a.Button,{value:"both"},"Both"),r.a.createElement(Qe.a.Button,{value:"male"},"Male"),r.a.createElement(Qe.a.Button,{value:"female"},"Felmale")))),r.a.createElement(g.a.Item,{label:"Locations",noStyle:!0},r.a.createElement(Ke.a,{mode:"multiple",style:{width:"100%"},placeholder:"select one country",defaultValue:["vietnam"],onChange:Li,optionLabelProp:"label"},r.a.createElement(xi,{value:"china",label:"China"},r.a.createElement("span",{role:"img","aria-label":"China"},"\ud83c\udde8\ud83c\uddf3"),"China"),r.a.createElement(xi,{value:"usa",label:"USA"},r.a.createElement("span",{role:"img","aria-label":"USA"},"\ud83c\uddfa\ud83c\uddf8"),"USA"),r.a.createElement(xi,{value:"japan",label:"Japan"},r.a.createElement("span",{role:"img","aria-label":"Japan"},"\ud83c\uddef\ud83c\uddf5"),"Japan"),r.a.createElement(xi,{value:"korea",label:"Korea"},r.a.createElement("span",{role:"img","aria-label":"Korea"},"\ud83c\uddf0\ud83c\uddf7"),"Korea"),r.a.createElement(xi,{value:"vietnam",label:"VietNam"},r.a.createElement("span",{role:"img","aria-label":"VietNam"},"VN"),"Viet Nam"),r.a.createElement(xi,{value:"unitedkingdom",label:"United Kingdom"},r.a.createElement("span",{role:"img","aria-label":"United Kingdom"},"UK"),"United Kingdom"))))))),r.a.createElement(dt.a,{orientation:"left",style:{color:"#333",fontWeight:"normal"}},r.a.createElement("h1",null,"Total")),r.a.createElement(Dt.a,{gutter:16},r.a.createElement(It.a,{className:"gutter-row",span:"100%"},r.a.createElement("div",{style:Pi},r.a.createElement(gt.a,{style:{marginLeft:16,width:"50%"},value:l}),r.a.createElement("span",{style:{width:"50%",fontSize:20}},r.a.createElement("b",null,"DIVS"))))),r.a.createElement(Ri,{total:l}))}}]),a}(r.a.Component),Vi=g.a.create({name:"dynamic_form_item"})(Mi),Hi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Vi,null)}}]),a}(n.Component),Bi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ye.a,{icon:r.a.createElement(y.a,{type:"smile",theme:"twoTone"}),title:"Great, we have done all the operations!"}))}}]),a}(n.Component),zi=Fi.a.Step,Gi=[{title:"Create survey",content:r.a.createElement(Hi,null)},{title:"Pay",content:r.a.createElement(Ri,null)},{title:"Launch Survey",content:r.a.createElement(Bi,null)}],qi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={current:0},n}return Object(c.a)(a,[{key:"next",value:function(){var e=this.state.current+1;this.setState({current:e})}},{key:"prev",value:function(){var e=this.state.current-1;this.setState({current:e})}},{key:"render",value:function(){var e=this,t=this.state.current;return r.a.createElement("div",null,r.a.createElement(Fi.a,{current:t},Gi.map((function(e){return r.a.createElement(zi,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:"steps-content"},Gi[t].content),r.a.createElement("div",{className:"steps-action"},t<Gi.length-1&&r.a.createElement(v.a,{type:"primary",onClick:function(){return e.next()}},"Next"),t===Gi.length-1&&r.a.createElement(v.a,{type:"primary",onClick:function(){return lt.a.success("Processing complete!")}},"Done"),t>0&&r.a.createElement(v.a,{style:{margin:"0 8px"},onClick:function(){return e.prev()}},"Previous")))}}]),a}(r.a.Component),$i=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(qi,null),history:this.props.history})}}]),a}(n.Component),Wi=a(800),Ki=Wi.a.Sider,Yi=Wi.a.Content,Ji=E.a.TextArea,Qi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputValue1:1},e.onChange=function(t){e.setState({inputValue1:t})},e.handleSubmit=function(t){Z("Posting a request to find data ..."),t.preventDefault(),e.props.form.validateFields((function(e,t){e||(console.log("Received values of form: ",t),ue(t).then((function(e){ee(e)})).catch((function(e){X("Loi find data")})))}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.visible,e.onCancel,e.onCreate,e.form),a=this.state.inputValue1,n=t.getFieldDecorator,i=Ke.a.Option;return r.a.createElement("div",null,r.a.createElement(Wi.a,null,r.a.createElement(Yi,null,r.a.createElement(g.a,{onSubmit:this.handleSubmit,layout:"vertical"},r.a.createElement(g.a.Item,{label:r.a.createElement("h3",null,"NAME")},n("name",{rules:[{message:"Please select dataset's field "}]})(r.a.createElement(E.a,{placeholder:"Please enter a genaral name"}))),r.a.createElement(g.a.Item,{label:r.a.createElement("h3",null,"DATASET'S FIELDS")},n("field",{rules:[{message:"Please select dataset's field ",type:"array"}]})(r.a.createElement(Ke.a,{mode:"multiple",style:{width:"60%"},placeholder:"Please select dataset's Field"},r.a.createElement(i,{value:"personaldata"},"Personal Data"),r.a.createElement(i,{value:"sport"},"Sport"),r.a.createElement(i,{value:"medical"},"Medical"),r.a.createElement(i,{value:"realestate"},"Real-Estate"),r.a.createElement(i,{value:"Hospitality"},"Hospitality"),r.a.createElement(i,{value:"Economy"},"Economy"),r.a.createElement(i,{value:"Weather"},"Weather")))),r.a.createElement(g.a.Item,{label:r.a.createElement("h3",null,"HOW MANY ROWS?")},r.a.createElement(It.a,{span:12},n("rowAmount")(r.a.createElement(pr.a,{min:0,max:25e3,marks:{0:"A",5e3:"B",1e4:"C",15e3:"D",2e4:"E",25e3:"F"},onChange:this.onChange,value:"number"===typeof a?a:0}))),r.a.createElement(It.a,{span:4},r.a.createElement(gt.a,{min:1,max:25e3,style:{marginLeft:16},value:a,onChange:this.onChange}),",")),r.a.createElement(g.a.Item,{label:r.a.createElement("h3",null,"DESCRIPTION")},n("description",{rules:[{message:"Please enter some description about your demand!"}]})(r.a.createElement(Ji,{placeholder:"Please enter some descriptions"}))),r.a.createElement(g.a.Item,{label:r.a.createElement("h3",null,"REWARDS")},n("reward")(r.a.createElement(gt.a,{defaultValue:"1"}))),r.a.createElement(g.a.Item,{label:" ",colon:!1},r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))),r.a.createElement(Ki,{style:{backgroundColor:"#62D9FB"}},r.a.createElement("h1",null,"History"))))}}]),a}(n.Component),Zi=g.a.create()(Qi),Xi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(Zi,null),history:this.props.history})}}]),a}(n.Component),el=(a(751),a(801)),tl=a(821),al=a(823),nl=a(824),rl=Ke.a.Option,il=function(){var e=r.a.createElement(g.a.Item,{name:"prefix",noStyle:!0},r.a.createElement(Ke.a,{style:{width:70}},r.a.createElement(rl,{value:"86"},"+86"),r.a.createElement(rl,{value:"87"},"+87"),r.a.createElement(rl,{value:"84"},"+84")));return r.a.createElement(g.a,{name:"complex-form",onFinish:function(e){console.log("Received values of form: ",e)},labelCol:{span:8},wrapperCol:{span:16}},r.a.createElement(g.a.Item,{label:"Fullname"},r.a.createElement(g.a.Item,{name:"fullname",noStyle:!0,rules:[{required:!0,message:"Username is required"}]},r.a.createElement(E.a,{style:{width:300},placeholder:"NGUYEN DUY TRA"}),r.a.createElement(Je.a,{title:"Useful information"},r.a.createElement("a",{href:"/about",style:{margin:"0 8px"}},"Need Help?")))),r.a.createElement(g.a.Item,{label:"Identity Number"},r.a.createElement(E.a,{style:{width:"50%"},placeholder:"108800119"})),r.a.createElement(g.a.Item,{label:"DoB"},r.a.createElement(el.a,null)),r.a.createElement(g.a.Item,{label:"Address"},r.a.createElement(E.a.Group,{compact:!0},r.a.createElement(g.a.Item,{name:"country",hasFeedback:!0,rules:[{required:!0,message:"Please select your country!"}]},r.a.createElement(tl.a,{style:{width:200},dataSource:["Viet Nam","United State of America","United Kingdom"],placeholder:"Country",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{name:["address","province"],noStyle:!0,rules:[{required:!0,message:"Province is required"}]},r.a.createElement(tl.a,{style:{width:200},dataSource:["Ha noi","Washington","London"],placeholder:"Province",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{name:["address","street"],noStyle:!0,rules:[{required:!0,message:"Street is required"}]},r.a.createElement(E.a,{style:{width:"100%"},placeholder:"Detail address"})))),r.a.createElement(g.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}]},r.a.createElement(Ke.a,{style:{width:"50%"},placeholder:"Select a option and change input text above",allowClear:!0},r.a.createElement(rl,{value:"male"},"male"),r.a.createElement(rl,{value:"female"},"female"),r.a.createElement(rl,{value:"other"},"other"))),r.a.createElement(g.a.Item,{label:"Job"},r.a.createElement(E.a,{style:{width:"50%"},placeholder:"Jobless"})),r.a.createElement(g.a.Item,{label:"Positon"},r.a.createElement(tl.a,{style:{width:"50%"},dataSource:["Freelancer","Direction","Manager","Employee"],placeholder:"Manager",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},r.a.createElement(E.a,null))),r.a.createElement(g.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(E.a,{style:{width:"50%"}})),r.a.createElement(g.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},r.a.createElement(E.a,{addonBefore:e,style:{width:"50%"}})),r.a.createElement(g.a.Item,{label:"Is Married?"},r.a.createElement(Gn.a,{checkedChildren:r.a.createElement(al.a,null),unCheckedChildren:r.a.createElement(nl.a,null),defaultChecked:!0})),r.a.createElement(g.a.Item,{label:"Your Hobbies"},r.a.createElement(b.a.Group,{style:{width:"100%"}},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{span:8},r.a.createElement(b.a,{value:"sport"},"Sport")),r.a.createElement(It.a,{span:8},r.a.createElement(b.a,{value:"singing"},"Singing")),r.a.createElement(It.a,{span:8},r.a.createElement(b.a,{value:"traveling"},"Traveling")),r.a.createElement(It.a,{span:8},r.a.createElement(b.a,{value:"shopping"},"Shopping")),r.a.createElement(It.a,{span:8},r.a.createElement(b.a,{value:"reading"},"Reading"))))),r.a.createElement(g.a.Item,{label:"Is Share?"},r.a.createElement(Gn.a,{checkedChildren:r.a.createElement(al.a,null),unCheckedChildren:r.a.createElement(nl.a,null),defaultChecked:!0})),r.a.createElement(g.a.Item,{label:" ",colon:!1},r.a.createElement(v.a,{type:"primary",htmlType:"submit"},"Submit")))},ll=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(il,null),history:this.props.history})}}]),a}(n.Component);var ol=function(){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"400px"},alt:"Music test",src:vt.a}),r.a.createElement("h1",null,"DIDA - H\u1ec6 TH\u1ed0NG PH\xc2N PH\u1ed0I D\u1eee LI\u1ec6U"),r.a.createElement("p",null,"Dida (Data Distribution) l\xe0 h\u1ec7 th\u1ed1ng ph\xe2n ph\u1ed1i d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c ph\xe1t tri\u1ec3n d\u1ef1a tr\xean n\u1ec1n t\u1ea3ng c\xf4ng ngh\u1ec7",r.a.createElement("br",null),"Blockchain. Qua \u0111\xf3 \u0111\u1ea1t \u0111\u01b0\u1ee3c c\xe1c t\xednh minh b\u1ea1ch v\xe0 an ninh v\xe0 quan tr\u1ecdng nh\u1ea5t l\xe0 trao quy\u1ec1n ki\u1ec3m so\xe1t d\u1eef",r.a.createElement("br",null),"ng\u01b0\u1eddi d\xf9ng. Ngo\xe0i ra h\u1ec7 th\u1ed1ng c\xf2n c\xf3 c\xe1c t\xednh n\u0103ng gi\xfap ng\u01b0\u1eddi d\xf9ng ki\u1ebfm ti\u1ec1n nh\u01b0 t\xecm d\u1eef li\u1ec7u h\u1ed9, b\xe1n d\u1eef ",r.a.createElement("br",null),"li\u1ec7u c\xe1 nh\xe2n"))},cl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(ol,null),history:this.props.history})}}]),a}(n.Component),sl=(r.a.Component,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement("userTable",null),history:this.props.history})}}]),a}(n.Component)),ul=(a(752),Ba.a.Meta),ml=(rn.a.Countdown,h.a.Text),pl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.record,n=t.action;return r.a.createElement(Ba.a,{hoverable:!0,cover:r.a.createElement("img",{className:"img-background-music",alt:"music background",src:window.$linkIPFS+a.music.image}),bodyStyle:{padding:"15px",width:"100%",border:"0px solid green"},actions:n?[r.a.createElement(Cr,{isMarket:!0,record:a})]:null},r.a.createElement(ul,{style:{paddingBottom:10},avatar:r.a.createElement(ft.a,{size:59,src:window.$linkIPFS+a.user.avatar,alt:a.user.nickName}),title:r.a.createElement(v.a,{style:{textAlign:"left",padding:0,fontSize:16},type:"link",onClick:function(){return e.props.history.push("/page/".concat(a.user.addressEthereum))}},r.a.createElement(ml,{style:{fontSize:16},type:"warning"},a.user.nickName)),description:r.a.createElement(ml,null," ",te(a.user.follow)," Follow ")}),r.a.createElement(v.a,{style:{textAlign:"center",padding:0,fontSize:14,height:20,width:"100%",overflow:"hidden"},type:"link",onClick:function(){return e.props.history.push("/data/".concat(a.music._id))}},a.music.name))}}]),a}(r.a.Component),dl=Object(d.g)(pl),hl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={findDataList:[],loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;Oe().then(function(){var e=Object(Fa.a)(Aa.a.mark((function e(t){return Aa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sadasfs\u0111Sddddddddddddddddddddddddddddddddddd"),console.log(t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){e.setState({findDataList:t,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:"100%"}},this.state.loading?r.a.createElement(Ze,null):r.a.createElement(Dt.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},this.state.findDataList.map((function(t){return t.isComplete?r.a.createElement(It.a,{key:t.idFile,span:e.props.isPage?8:6},r.a.createElement(dl,{record:t,action:!1})):null}))))}}]),a}(r.a.Component),fl=Object(m.b)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{}}))(hl),gl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft,{main:r.a.createElement(fl,{isPage:!1}),history:this.props.history})}}]),a}(n.Component),El=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={findDataList:[],loading:!0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){fetch("https://ipfs.jumu.tk/QmNXFgojtPQuzxKYoBrb2fmnYYQZ1TvaJkevLSm9HBrWmC").then((function(e){return e.json()})).then((function(e){console.log("trafffffffffffffffffffffff"),console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h1",null,"Hello"))}}]),a}(r.a.Component),yl=Object(m.b)((function(e){return{pageReducer:e.pageReducer}}),(function(e){return{}}))(El),bl=function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:fn}),r.a.createElement(d.b,{path:"/login",component:We}),r.a.createElement(d.b,{path:"/register",component:rt}),r.a.createElement(d.b,{path:"/upload",component:ut}),r.a.createElement(ai,{path:"/home",component:hn}),r.a.createElement(ai,{path:"/message",component:wa}),r.a.createElement(ai,{path:"/find-data",component:Xi}),r.a.createElement(ai,{path:"/set-personal-data",component:ll}),r.a.createElement(ai,{path:"/about",component:cl}),r.a.createElement(ai,{path:"/surveys",component:Ai}),r.a.createElement(ai,{path:"/survey/intro",component:$i}),r.a.createElement(ai,{path:"/labeling",component:gl}),r.a.createElement(ai,{path:"/iso",component:Gr}),r.a.createElement(ai,{path:"/test",component:yl}),r.a.createElement(ai,{path:"/martketplaceFindData",component:qr}),r.a.createElement(ai,{path:"/setting",component:ei}),r.a.createElement(ai,{path:"/contractFormManager",component:si}),r.a.createElement(ai,{path:"/contract",component:Ii}),r.a.createElement(ai,{path:"/tempContract/:idTempContract",component:di}),r.a.createElement(ai,{path:"/mainContract/:idContract",component:bi}),r.a.createElement(ai,{path:"/page/:userName",component:or}),r.a.createElement(ai,{path:"/data/:idMongo",component:Hr}),r.a.createElement(ai,{path:"/validateUser",component:sl}),r.a.createElement(ai,{component:zn}))))},vl=a(394),kl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{store:W},r.a.createElement(vl.PersistGate,{loading:null,persistor:K},r.a.createElement(bl,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(kl,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},95:function(e,t,a){e.exports=a.p+"static/media/logo.d4318ac1.png"}},[[412,1,2]]]);
//# sourceMappingURL=main.bb0da980.chunk.js.map